{"version":3,"sources":["meteor://ðŸ’»app/imports/lib/utils/utils.js","meteor://ðŸ’»app/imports/lib/utils/utils_account.js","meteor://ðŸ’»app/imports/lib/utils/utils_string.js","meteor://ðŸ’»app/imports/api/server/publications/articleLikes.js","meteor://ðŸ’»app/imports/api/server/publications/articleTotalLikes.js","meteor://ðŸ’»app/imports/api/server/publications/articleViews.js","meteor://ðŸ’»app/imports/api/server/publications/experiments.js","meteor://ðŸ’»app/imports/api/server/publications/index.js","meteor://ðŸ’»app/imports/api/server/publications/newsArticles.js","meteor://ðŸ’»app/imports/api/server/publications/surveys.js","meteor://ðŸ’»app/imports/api/server/publications/user.js","meteor://ðŸ’»app/imports/api/answers.js","meteor://ðŸ’»app/imports/api/archive.js","meteor://ðŸ’»app/imports/api/articleLikes.js","meteor://ðŸ’»app/imports/api/articleViews.js","meteor://ðŸ’»app/imports/api/articles.js","meteor://ðŸ’»app/imports/api/experiments.js","meteor://ðŸ’»app/imports/api/explanations.js","meteor://ðŸ’»app/imports/api/pageViews.js","meteor://ðŸ’»app/imports/api/podcastAnalytics.js","meteor://ðŸ’»app/imports/api/readingList.js","meteor://ðŸ’»app/imports/api/recommendations.js","meteor://ðŸ’»app/imports/api/signins.js","meteor://ðŸ’»app/imports/api/surveys.js","meteor://ðŸ’»app/imports/api/user.js","meteor://ðŸ’»app/imports/api/videoAnalytics.js","meteor://ðŸ’»app/imports/startup/server/configs/config_accounts.js","meteor://ðŸ’»app/imports/startup/server/configs/index.js","meteor://ðŸ’»app/imports/startup/server/fixtures/experiments.js","meteor://ðŸ’»app/imports/startup/server/fixtures/index.js","meteor://ðŸ’»app/imports/startup/server/fixtures/newsArticles.js","meteor://ðŸ’»app/imports/startup/server/fixtures/surveys.js","meteor://ðŸ’»app/imports/startup/server/index.js","meteor://ðŸ’»app/imports/ui/components/experiments/LaunchConfirmationModal.jsx","meteor://ðŸ’»app/imports/ui/elements/modal/ConfirmationModal.jsx","meteor://ðŸ’»app/imports/ui/elements/modal/Modal.jsx","meteor://ðŸ’»app/imports/ui/elements/modal/ModalBody.jsx","meteor://ðŸ’»app/imports/ui/elements/modal/ModalFoot.jsx","meteor://ðŸ’»app/imports/ui/elements/modal/ModalHead.jsx","meteor://ðŸ’»app/imports/ui/elements/Button.jsx","meteor://ðŸ’»app/imports/ui/elements/FaIcon.jsx","meteor://ðŸ’»app/imports/ui/elements/Mounter.jsx","meteor://ðŸ’»app/imports/ui/modules/experiments/Experiment.jsx","meteor://ðŸ’»app/imports/ui/layout/Module.jsx","meteor://ðŸ’»app/imports/ui/layout/ModuleSection.jsx","meteor://ðŸ’»app/server/main.js"],"names":["module","export","classNames","areArraysEqual","is","shallowEqualOnlyPrimitives","getExperimentName","Experiments","link","default","v","args","has","Object","prototype","hasOwnProperty","classes","argType","push","Array","isArray","length","i","arg","inner","keys","forEach","key","call","join","anArray","anotherArray","l","x","y","objA","objB","keysA","keysB","Function","experimentId","experiment","findOne","_id","fields","name","userEmail","isEmailVerified","userIsInRole","userOwnsExperiment","userOwnsSurvey","hasExperimentLaunched","Meteor","Surveys","user","emails","email","address","some","e","verified","roleOrRoles","roles","role","indexOf","experiments","map","includes","surveyId","survey","testingPhase","undefined","removeWeirdMinusSignsInFrontOfString","aString","newString","substr","check","ArticleLikes","publish","articleId","String","userId","cleanArticleId","find","removedAt","$exists","sort","createdAt","ArticleTotalLikes","ArticleViews","_objectSpread","ownedExperiments","$in","activeExperimentPublication","participatesIn","activeExperiment","added","Match","ReadingList","NewsArticles","Archive","Recommendations","Explanations","datePublished","initializing","limit","recommendationCursor","newsArticleCursor","recommendationObserver","observeChanges","recommendationId","date","Date","count","newsArticleObserver","onStop","stop","ready","newsArticlesJoinedPublications","Number","Maybe","explanationTagsDef","maxNrExplanationTags","recommendations","prediction","fetch","article","explanationTags","explanationTagsId","explanationArticle","tag","Math","min","isInReadingList","isInArchive","newsArticles","explanationsObserver","observe","document","changed","removed","readingListObserver","recommendation","archiveObserver","newsArticlesInReadingListPublication","newsArticlesInReadingList","newsArticleIds","documentId","newsArticlesObserver","newsArticlesInArchivePublication","newsArticlesInArchive","furtherRecommendedNewsArticlesPublications","primaryCategory","cleanId","$ne","Answers","Error","unansweredSurveysPublication","answeredSurveysIds","$nin","answersObserver","surveysObserver","id","hasAnsweredSurvey","userDataPublication","users","fullName","experimentsList","experimentsObject","Mongo","Collection","methods","surveyAnswers","initialSurvey","questions","answers","a","questionId","questionText","text","selections","insert","dateScraped","articlePublishedDate","update","$set","multi","articleQuestionId","articleTotalLikesDislikes","questionsArray","counts","$inc","$push","countLikes","countDislikes","articleAnswer","articleLike","articleDislike","now","rawCollection","findAndModify","$setOnInsert","duration","maxScrolledContent","updatedAt","views","upsert","view","durationIncrement","$max","NewsArticlesJoined","NewsArticlesInReadingList","NewsArticlesInArchive","FurtherRecommendedNewsArticles","Random","Experiment","exportDefault","dislikeSurvey","question","value","likeSurvey","accessLevel","remove","Boolean","amount","userGroup","Integer","newUser","username","password","newUserId","Accounts","createUser","plaintextPassword","explanationViews","PageViews","page","previousPage","currentParameters","prevParameters","currentParametersHardCopy","prevParametersHardCopy","parameters","PodcastAnalytics","action","podcastTimestamp","SignIns","UnansweredSurveys","surveyName","createdBy","isActive","minSelect","maxSelect","surveyQuestions","newQuestion","parseInt","isNaN","parseFloat","withAtLeast","selectionsFrom","index","label","canBeSkipped","skipAnswerText","skipAnswerValue","hasOtherOption","otherAnswerText","otherAnswerValue","sendVerificationEmail","pushToken","pushNotificationToken","VideoAnalytics","videoTimestamp","DEFAULT_USER_ROLES","ADMIN_ROLE","BLOCKED_ROLE","DEACTIVATED_ROLE","LOCKED_ROLES","EMAILTEMPLATES_SITENAME","EMAILTEMPLATES_FROM","IS_EMAIL_VERIFICATION_REQUIRED","IS_REGISTRATION_OPEN","IS_SURVEY_REQUIRED","config","forbidClientAccountCreation","onLogin","info","onCreateUser","options","profile","score","notification","isThereAtLeastOneAdmin","isNewUserAnAdmin","validateLoginAttempt","emailTemplates","siteName","from","verifyEmail","subject","resetPassword","url","urls","token","absoluteUrl","EXPERIMENT","feedbackEmail","textShort","textLong","textColorLight","textColorDark","backgroundColorLight","backgroundColorDark","detailedExplanation","maxCharacterExplanationTagShort","maxNrFurtherRecArticles","totalLikesDislikesEnabled","previewTitleLineHeight","NEWS_ARTICLES","SURVEYS","numberOfNewsArticlesInDatabase","n","numberOfSurveysInDatabase","s","numberOfExperimentsInDatabase","flag","subCategories","pageType","title","lead","author","dateUpdated","language","outlet","image","body","type","QUESTIONS","randomOrder","LaunchConfirmationModal","React","PropTypes","ConfirmationModal","ModalHead","ModalBody","ModalFoot","Button","FaIcon","isShown","cancel","confirm","propTypes","bool","isRequired","func","Transition","Mounter","Modal","children","enter","exit","appear","state","node","Component","constructor","props","handleKeyDown","bind","componentDidMount","closeModal","addEventListener","componentWillUnmount","removeEventListener","modalClassNames","className","centered","escButton","event","ESCAPE_KEY","keyCode","render","defaultProps","string","_extends","_objectWithoutProperties","forwardRef","ref","circle","flat","href","onClick","round","iconWithLink","buttonClassNames","preventDefault","icon","regular","iconClass","ReactDOM","appRoot","getElementById","createPortal","Module","ModuleSection","errorMessage","isSaving","wasSaved","isLaunchConfirmationShown","handleSelectExperiment","handleInputChange","handleLaunch","handleSubmit","selected","Session","get","set","target","checked","setState","err","console","error","setTimeout","buttonText","selectButtonClasses","buttonType","object","module1","between","card","content","boxed","containerClasses","contentClasses","startup","process","env","MAIL_URL"],"mappings":"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","file":"/app.js","sourcesContent":["import Experiments from '../../api/experiments';\r\n\r\n/**\r\n * Given an object or array of class names, e.g. { name1: true, name2: false },\r\n * returns single string that includes all class names for which the\r\n * value in the object is true.\r\n *\r\n * if the object is undefined, this function returns an empty string.\r\n *\r\n * @param args\r\n * @returns {string}\r\n */\r\nexport const classNames = (args) => {\r\n    const has = Object.prototype.hasOwnProperty;\r\n    const classes = [];\r\n    const argType = typeof args;\r\n\r\n    if (argType === 'string' || argType === 'number') {\r\n        classes.push(args);\r\n    } else if (Array.isArray(args) && args.length) {\r\n        for (let i = 0; i < args.length; i++) {\r\n            const arg = args[i];\r\n\r\n            // eslint-disable-next-line no-continue\r\n            if (!arg) continue;\r\n\r\n            const inner = classNames(arg);\r\n            if (inner) {\r\n                classes.push(inner);\r\n            }\r\n        }\r\n    } else if (argType === 'object') {\r\n        Object.keys(args).forEach((key) => {\r\n            if (has.call(args, key) && args[key]) {\r\n                classes.push(key);\r\n            }\r\n        });\r\n    }\r\n\r\n    return classes.join(' ');\r\n};\r\n\r\n/**\r\n * Given two arrays, tests whether all elements inside the arrays are\r\n * equal and returns true if they are. Otherwise it returns false.\r\n *\r\n * Notice that this does not compare objects. If the arrays are indeed\r\n * identical but include an object, this function will return false.\r\n *\r\n * @param anArray\r\n * @param anotherArray\r\n * @returns {boolean}\r\n */\r\nexport const areArraysEqual = (anArray, anotherArray) => {\r\n    if (!anArray || !anotherArray) return false;\r\n\r\n    if (anArray.length !== anotherArray.length) return false;\r\n\r\n    for (let i = 0, l = anArray.length; i < l; i++) {\r\n        if (anArray[i] instanceof Array && anotherArray[i] instanceof Array) {\r\n            if (!areArraysEqual(anArray[i], anotherArray[i])) return false;\r\n        } else if (anArray[i] !== anotherArray[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n\r\n// https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/shallowEqual.js#L22\r\nexport const is = (x, y) => {\r\n    // SameValue algorithm\r\n    if (x === y) { // Steps 1-5, 7-10\r\n        // Steps 6.b-6.e: +0 != -0\r\n        // Added the nonzero y check to make Flow happy, but it is redundant\r\n        return x !== 0 || y !== 0 || 1 / x === 1 / y;\r\n    }\r\n    // Step 6.a: NaN == NaN\r\n    // eslint-disable-next-line no-self-compare\r\n    return x !== x && y !== y;\r\n};\r\n\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\n\r\n/**\r\n * Slightly adapted implementation of shallowEqual taken from react core.\r\n *\r\n * Performs equality by iterating through the keys of an object and returning\r\n * false if any key has a value that is not strictly equal to the same key of\r\n * the second argument. Only compares simple types and skips all objects and\r\n * arrays.\r\n *\r\n * @see react core src\r\n *      https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/shallowEqual.js#L39-L67\r\n * @param objA\r\n * @param objB\r\n * @returns {boolean}\r\n */\r\nexport const shallowEqualOnlyPrimitives = (objA, objB) => {\r\n    if (is(objA, objB)) {\r\n        return true;\r\n    }\r\n\r\n    if (typeof objA !== 'object' || objA === null\r\n        || typeof objB !== 'object' || objB === null) {\r\n        return false;\r\n    }\r\n\r\n    const keysA = Object.keys(objA);\r\n    const keysB = Object.keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n\r\n    for (let i = 0; i < keysA.length; i++) {\r\n        // if both fields are either objects, arrays or functions, skip the field\r\n        if ((typeof objA[keysA[i]] === 'object'\r\n            && typeof objB[keysB[i]] === 'object')\r\n            || (objA[keysA[i]] instanceof Array\r\n                && objB[keysB[i]] instanceof Array)\r\n            || (objA[keysA[i]] instanceof Function\r\n                && objB[keysB[i]] instanceof Function)\r\n        ) {\r\n            // eslint-disable-next-line no-continue\r\n            continue;\r\n        }\r\n\r\n        if (\r\n            !hasOwnProperty.call(objB, keysA[i])\r\n            || !is(objA[keysA[i]], objB[keysA[i]])\r\n        ) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nexport const getExperimentName = (experimentId) => {\r\n    const experiment = Experiments.findOne({ _id: experimentId }, { fields: { name: 1 } });\r\n\r\n    if (experiment && experiment.name) {\r\n        return experiment.name\r\n    }\r\n    \r\n    return '';\r\n}","import { Meteor } from 'meteor/meteor';\r\nimport { Surveys } from '../../api/surveys'\r\nimport Experiments from '../../api/experiments'\r\n\r\n/**\r\n * For a given user (signed in) return his email address.\r\n * Notice: If a user has multiple email addresses, this function returns the first email address.\r\n *\r\n * @returns {string}\r\n */\r\nexport const userEmail = (user = Meteor.user()) => {\r\n    if (!user || !user.emails || !user.emails.length) {\r\n        return '';\r\n    }\r\n\r\n    const email = user.emails[0];\r\n    return email.address || '';\r\n};\r\n\r\n/**\r\n * For a given user, returns whether at least one email address is verified.\r\n *\r\n * @param user\r\n *          user object; default value Meteor.user()\r\n *\r\n * @returns {*}\r\n *          boolean\r\n */\r\nexport const isEmailVerified = (user = Meteor.user()) => {\r\n    if (!user || !user.emails || user.emails.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    return user.emails.some(e => e.verified);\r\n};\r\n\r\n/**\r\n * Returns whether the given user is in the given role or in any of\r\n * the given roles if roleOrRoles is an array of roles.\r\n *\r\n * @param user\r\n *          user object to test; default value Meteor.user()\r\n *\r\n * @param roleOrRoles\r\n *          role string or array of role strings\r\n *\r\n * @returns {*}\r\n *          boolean;\r\n *          true if the user is in any of the given roles\r\n *          false otherwise\r\n */\r\nexport const userIsInRole = (roleOrRoles, user = Meteor.user()) => {\r\n    if (!user.roles || user.roles.length === 0) {\r\n        return false;\r\n    }\r\n\r\n    if (!roleOrRoles.length) {\r\n        return true;\r\n    }\r\n\r\n    if (Array.isArray(roleOrRoles)) {\r\n        return roleOrRoles.some(role => userIsInRole(user, role));\r\n    }\r\n\r\n    return user.roles.indexOf(roleOrRoles) !== -1;\r\n};\r\n\r\n\r\nexport const userOwnsExperiment = (experimentId) => {\r\n    const user = Meteor.user({ fields: { experiments: 1 } });\r\n\r\n    if (!user || !user.experiments) {\r\n        return false;\r\n    }\r\n\r\n    const experiments = user.experiments.map(experiment => experiment.experiment);\r\n\r\n    if (experiments.includes(experimentId)) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n\r\nexport const userOwnsSurvey = (surveyId) => {\r\n    const user = Meteor.user({ fields: { experiments: 1 } });\r\n\r\n    if (!user || !user.experiments) {\r\n        return false;\r\n    }\r\n\r\n    const experiments = user.experiments.map(experiment => experiment.experiment);\r\n    const survey = Surveys.findOne({ _id: surveyId }, { fields: { experiment: 1 } });\r\n\r\n    if (!experiments || !survey || !experiments.includes(survey.experiment) ) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n\r\nexport const hasExperimentLaunched = (experimentId) => {\r\n    const experiment = Experiments.findOne({ _id: experimentId }, { fields: { testingPhase: 1 } });\r\n\r\n    if (!experiment || experiment.testingPhase === undefined) {\r\n        return false;\r\n    }\r\n\r\n    return !experiment.testingPhase;\r\n}","/**\r\n * For a given string, removes any number of prefixing minus signs from the string.\r\n * e.g. \"-somestring\" -> \"somestring\" and \"---somestring\" -> -\"somestring\".\r\n *\r\n * There is a weird and at the time of writing unfixed error in react-native-meteor\r\n * and/or minimongo-cache where a minus sign is added to the _id of a document when\r\n * using a custom publication (with this.added). That minus sign is only added to the\r\n * local documents in the driver though and querying for the id including the minus\r\n * sign will lead to an error on the server. Therefore we use this function to get rid\r\n * of that minus sign.\r\n *\r\n *\r\n * https://github.com/inProgress-team/react-native-meteor/issues/185\r\n *\r\n * @see Meteor.method\r\n *          'readingList.article.add'\r\n * @see Meteor.method\r\n *          'readingList.article.remove'\r\n *\r\n * @param aString\r\n *\r\n * @returns {*}\r\n */\r\nexport const removeWeirdMinusSignsInFrontOfString = (aString) => {\r\n    if (aString.indexOf('-') === 0) {\r\n        const newString = aString.substr(1, aString.length - 1);\r\n        return removeWeirdMinusSignsInFrontOfString(newString);\r\n    }\r\n    return aString;\r\n};\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { ArticleLikes } from '../../articleLikes';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../../../lib/utils/utils_string';\r\n\r\nMeteor.publish('articleLikes', (articleId) => {\r\n    check(articleId, String);\r\n    const userId = Meteor.userId();\r\n    if (!userId) {\r\n        return null;\r\n    }\r\n    const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n    return ArticleLikes.find(\r\n        {\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            removedAt: { $exists: false },\r\n        },\r\n        {\r\n            sort: { createdAt: -1 },\r\n        }\r\n    );\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { ArticleTotalLikes } from '../../articleLikes';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../../../lib/utils/utils_string';\r\n\r\nMeteor.publish('articleTotalLikes', (articleId, experimentId) => {\r\n    check(articleId, String);\r\n    check(experimentId, String);\r\n\r\n    const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n    return ArticleTotalLikes.find(\r\n        {\r\n            articleId: cleanArticleId,\r\n            experimentId,\r\n        },\r\n    );\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { ArticleViews } from '../../articleViews';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../../../lib/utils/utils_string';\r\n\r\nMeteor.publish('articleViews', (articleId) => {\r\n    check(articleId, String);\r\n    const userId = Meteor.userId();\r\n    if (!userId) {\r\n        return null;\r\n    }\r\n    const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n    return ArticleViews.find(\r\n        {\r\n            articleId: cleanArticleId,\r\n            userId,\r\n        },\r\n    );\r\n});\r\n","import { Meteor } from 'meteor/meteor';\nimport { userIsInRole } from '../../../lib/utils/utils_account';\nimport Experiments from '../../experiments';\n\nMeteor.publish('experiments', () => {\n\n    const user = Meteor.user({ fields: { experiments: 1 } });\n    if (!user) {\n        return null;\n    }\n\n    if (!userIsInRole('admin')) {\n        return null;\n    }\n\n    const ownedExperiments = user.experiments.map(experiment => experiment.experiment);\n\n    return Experiments.find({ _id: { $in: ownedExperiments } });\n});\n\nMeteor.publish('activeExperiment', function activeExperimentPublication() {\n\n    const user = Meteor.user({ fields: { participatesIn: 1 } });\n    if (!user) {\n        return null;\n    }\n\n    // a user can participate only in a single experiment\n    const activeExperiment = Experiments.findOne({ _id: user.participatesIn });\n    this.added('activeExperiment', activeExperiment._id, { ...activeExperiment });\n});\n","import './newsArticles';\nimport './surveys';\nimport './user';\nimport './experiments';\nimport './articleLikes';\nimport './articleViews';\nimport './articleTotalLikes';\n","import { check, Match } from 'meteor/check';\nimport { Meteor } from 'meteor/meteor';\nimport { ReadingList } from '../../readingList';\nimport { NewsArticles } from '../../articles';\nimport { Archive } from '../../archive';\nimport { removeWeirdMinusSignsInFrontOfString } from '../../../lib/utils/utils_string';\nimport { Recommendations } from '../../recommendations';\nimport Experiments from '../../experiments';\nimport { userIsInRole } from '../../../lib/utils/utils_account';\nimport { Explanations } from '../../explanations';\n\nMeteor.publish('newsArticle', (articleId) => {\n    check(articleId, String);\n    return NewsArticles.find(articleId, { sort: { datePublished: -1 } });\n});\n\nMeteor.publish('notification', function () {\n    let initializing = true;\n    const { userId } = this;\n    const limit = 10;\n\n    const recommendationCursor = Recommendations.find({ userId }, { sort: { createdAt: -1 }, limit });\n    const newsArticleCursor = NewsArticles.find({}, { sort: { datePublished: -1 }, limit });\n\n    const recommendationObserver = recommendationCursor.observeChanges({\n        added: (recommendationId) => {\n            if (initializing) {\n                return false;\n            }\n\n            this.added('notification', recommendationId, { date: new Date() });\n        },\n    });\n\n    if (recommendationCursor.count() === 0) {\n        const newsArticleObserver = newsArticleCursor.observeChanges({\n            added: (articleId) => {\n                if (initializing) {\n                    return false;\n                }\n\n                this.added('notification', articleId, { date: new Date() });\n            },\n        });\n\n        this.onStop(() => {\n            newsArticleObserver.stop();\n            recommendationObserver.stop();\n        });\n    } else {\n        this.onStop(() => {\n            recommendationObserver.stop();\n        });\n    }\n\n    this.ready();\n    initializing = false;\n});\n\n/**\n * Publishes a cursor for all news articles including whether they are in the reading list\n * of the current user. That is, this publication performs a join between {@link NewsArticles}\n * and {@link ReadingList} on _id and articleId respectively.\n *\n * Furthermore, this publication includes change observers to react on changes in the two collections\n * and restore meteor's reactivity.\n */\n// eslint-disable-next-line no-unused-vars\nMeteor.publish('newsArticlesJoined', function newsArticlesJoinedPublications(limit, date) {\n    check(limit, Number);\n    check(date, Match.Maybe(Date));\n\n    let initializing = true;\n    const { userId } = this;\n\n    let experiment;\n    let user = Meteor.user({ fields: { participatesIn: 1 } });\n    if (!user) {\n        experiment = null;\n    } else {\n        experiment = Experiments.findOne({ _id: user.participatesIn });\n    }\n    if (!experiment) {\n        user = Meteor.user({ fields: { experiments: 1 } });\n        if (!user || !userIsInRole('admin')) {\n            experiment = null;\n        } else {\n            const ownedExperiments = user.experiments.map(experiment => experiment.experiment);\n            experiment = Experiments.findOne({ _id: { $in: ownedExperiments } });\n        }\n    }\n    if (!experiment) {\n        experiment = {};\n    }\n\n    let { explanationTagsDef, maxNrExplanationTags } = experiment;\n    if (explanationTagsDef === undefined) {\n        explanationTagsDef = {};\n    }\n    if (maxNrExplanationTags === undefined) {\n        maxNrExplanationTags = 0;\n    }\n\n    const recommendations = Recommendations.find({ userId }, { sort: { prediction: -1 }, limit }).fetch();\n\n    if (recommendations && recommendations.length > 0) {\n        for (let i = 0; i < recommendations.length; i++) {\n            const { articleId, prediction } = recommendations[i];\n            const article = NewsArticles.findOne({ _id: articleId });\n\n            if (!article) {\n                continue;\n            }\n\n            const explanationTags = Explanations.findOne({\n                articleId: article._id,\n                userId,\n            }) || {};\n            let { explanationTagsId } = explanationTags;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const isInReadingList = ReadingList.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            const isInArchive = Archive.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            this.added('newsArticlesJoined', article._id, {\n                ...article,\n                explanationArticle,\n                isInReadingList: !!isInReadingList,\n                isInArchive: !!isInArchive,\n                prediction,\n            });\n        }\n    } else {\n        const newsArticles = NewsArticles.find({}, { sort: { datePublished: -1 }, limit }).fetch();\n        for (let i = 0; i < newsArticles.length; i++) {\n            const article = newsArticles[i];\n\n            const explanationTags = Explanations.findOne({\n                articleId: article._id,\n                userId,\n            }) || {};\n            let { explanationTagsId } = explanationTags;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const isInReadingList = ReadingList.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            const isInArchive = Archive.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            this.added('newsArticlesJoined', article._id, {\n                ...article,\n                explanationArticle,\n                isInReadingList: !!isInReadingList,\n                isInArchive: !!isInArchive,\n            });\n\n        }\n    }\n\n    const explanationsObserver = Explanations.find({ userId }).observe({\n\n        added: (document) => {\n            if (initializing) {\n                return false;\n            }\n\n            let { explanationTagsId } = document;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            this.changed('newsArticlesJoined', document.articleId, { explanationArticle });\n        },\n\n        changed: (document) => {\n            let { explanationTagsId } = document;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n            this.changed('newsArticlesJoined', articleId, { explanationArticle });\n        },\n\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n            this.changed('newsArticlesJoined', articleId, { explanationArticle: [] });\n        },\n    });\n\n    const readingListObserver = ReadingList.find({ userId }).observe({\n\n        /**\n         * Whenever a document is added to {@link ReadingList}, we update the document in\n         * this publication and set isInReadingList to true.\n         *\n         * @param document\n         *          the document that was added\n         * @returns {boolean}\n         */\n        added: (document) => {\n            // Before observe returns, added (or addedAt) will be called zero or more times to deliver\n            // the initial results of the query. We prevent this by returning false if we are still\n            // initializing. Notice that we set initializing to false after completing the first set.\n            if (initializing) {\n                return false;\n            }\n\n            // The following piece of code had to be inserted only due to a Meteor problem.\n            // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n            //\n            // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n            // document has to be changed. This is normal, as the id of the document is not yet in the\n            // collection. To avoid the warning, we need to make sure that the document is added to the\n            // collection, before any changes to it can be made. That is why we use this.added. If the\n            // document already exists in the collection, this.added will do nothing.\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n            const article = NewsArticles.findOne({ _id: articleId });\n            const recommendation = Recommendations.findOne({ articleId });\n\n            const explanationTags = Explanations.findOne({ articleId: article._id, userId }) || {};\n            let { explanationTagsId } = explanationTags;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n            const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n            if (recommendation) {\n                this.added('newsArticlesJoined', article._id,\n                    {\n                        ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                    });\n            } else {\n                this.added('newsArticlesJoined', article._id,\n                    {\n                        ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                    });\n            }\n\n            this.changed('newsArticlesJoined', article._id, { isInReadingList: true });\n        },\n\n        /**\n         * Whenever a document in {@link ReadingList} is changed, we update the document\n         * in this publication and set isInReadingList accordingly.\n         * If an article is removed from the reading list, the document in {@link ReadingList}\n         * is not remove but only updated. That is, an article was removed from the reading\n         * list if the document in {@link ReadingList} has a field \"removedAt\".\n         *\n         * @param document\n         */\n        changed: (document) => {\n            if (document.removedAt) {\n\n                // The following piece of code had to be inserted only due to a Meteor problem.\n                // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n                //\n                // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n                // document has to be changed. This is normal, as the id of the document is not yet in the\n                // collection. To avoid the warning, we need to make sure that the document is added to the\n                // collection, before any changes to it can be made. That is why we use this.added. If the\n                // document already exists in the collection, this.added will do nothing.\n\n                const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                const article = NewsArticles.findOne({ _id: articleId });\n                const recommendation = Recommendations.findOne({ articleId });\n\n                const explanationTags = Explanations.findOne({ articleId: article._id, userId }) || {};\n                let { explanationTagsId } = explanationTags;\n                if (explanationTagsId === undefined) {\n                    explanationTagsId = [];\n                }\n\n                const explanationArticle = [];\n                let key; let\n                    tag;\n\n                for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                    key = explanationTagsId[i];\n                    tag = explanationTagsDef[key];\n                    if (tag) {\n                        explanationArticle.push(tag);\n                    }\n                }\n\n                const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n                const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n                if (recommendation) {\n                    this.added('newsArticlesJoined', article._id,\n                        {\n                            ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                        });\n                } else {\n                    this.added('newsArticlesJoined', article._id,\n                        {\n                            ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                        });\n                }\n\n                this.changed('newsArticlesJoined', article._id, { isInReadingList: false });\n            }\n        },\n\n        /**\n         * Whenever a document was removed in {@link ReadingList}, we update the document in\n         * this publication and set isInReadingList to false.\n         *\n         * @param fields\n         *          the document that was removed\n         * @returns {boolean}\n         */\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            // The following piece of code had to be inserted only due to a Meteor problem.\n            // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n            //\n            // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n            // document has to be changed. This is normal, as the id of the document is not yet in the\n            // collection. To avoid the warning, we need to make sure that the document is added to the\n            // collection, before any changes to it can be made. That is why we use this.added. If the\n            // document already exists in the collection, this.added will do nothing.\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n            const article = NewsArticles.findOne({ _id: articleId });\n            const recommendation = Recommendations.findOne({ articleId });\n\n            const explanationTags = Explanations.findOne({ articleId: article._id, userId }) || {};\n            let { explanationTagsId } = explanationTags;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n            const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n            if (recommendation) {\n                this.added('newsArticlesJoined', article._id,\n                    {\n                        ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                    });\n            } else {\n                this.added('newsArticlesJoined', article._id,\n                    {\n                        ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                    });\n            }\n\n            this.changed('newsArticlesJoined', article._id, { isInReadingList: false });\n        },\n    });\n\n    const archiveObserver = Archive.find({ userId }).observe({\n\n        /**\n         * Whenever a document is added to {@link Archive}, we update the document in\n         * this publication and set isInArchive to true.\n         *\n         * @param document\n         *          the document that was added\n         * @returns {boolean}\n         */\n        added: (document) => {\n            // Before observe returns, added (or addedAt) will be called zero or more times to deliver\n            // the initial results of the query. We prevent this by returning false if we are still\n            // initializing. Notice that we set initializing to false after completing the first set.\n            if (initializing) {\n                return false;\n            }\n\n            // The following piece of code had to be inserted only due to a Meteor problem.\n            // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n            //\n            // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n            // document has to be changed. This is normal, as the id of the document is not yet in the\n            // collection. To avoid the warning, we need to make sure that the document is added to the\n            // collection, before any changes to it can be made. That is why we use this.added. If the\n            // document already exists in the collection, this.added will do nothing.\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n            const article = NewsArticles.findOne({ _id: articleId });\n            const recommendation = Recommendations.findOne({ articleId });\n\n            const explanationTags = Explanations.findOne({ articleId: article._id, userId }) || {};\n            let { explanationTagsId } = explanationTags;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n            const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n            if (recommendation) {\n                this.added('newsArticlesJoined', article._id,\n                    {\n                        ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                    });\n            } else {\n                this.added('newsArticlesJoined', article._id,\n                    {\n                        ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                    });\n            }\n\n            this.changed('newsArticlesJoined', article._id, { isInArchive: true });\n        },\n\n        /**\n         * Whenever a document in {@link Archive} is changed, we update the document\n         * in this publication and set isInArchive accordingly.\n         * If an article is removed from the archive, the document in {@link Archive}\n         * is not remove but only updated. That is, an article was removed from the\n         * archive if the document in {@link Archive} has a field \"removedAt\".\n         *\n         * @param document\n         */\n        changed: (document) => {\n            if (document.removedAt) {\n\n                // The following piece of code had to be inserted only due to a Meteor problem.\n                // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n                //\n                // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n                // document has to be changed. This is normal, as the id of the document is not yet in the\n                // collection. To avoid the warning, we need to make sure that the document is added to the\n                // collection, before any changes to it can be made. That is why we use this.added. If the\n                // document already exists in the collection, this.added will do nothing.\n\n                const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                const article = NewsArticles.findOne({ _id: articleId });\n                const recommendation = Recommendations.findOne({ articleId });\n\n                const explanationTags = Explanations.findOne({ articleId: article._id, userId }) || {};\n                let { explanationTagsId } = explanationTags;\n                if (explanationTagsId === undefined) {\n                    explanationTagsId = [];\n                }\n\n                const explanationArticle = [];\n                let key; let\n                    tag;\n\n                for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                    key = explanationTagsId[i];\n                    tag = explanationTagsDef[key];\n                    if (tag) {\n                        explanationArticle.push(tag);\n                    }\n                }\n\n                const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n                const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n                if (recommendation) {\n                    this.added('newsArticlesJoined', article._id,\n                        {\n                            ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                        });\n                } else {\n                    this.added('newsArticlesJoined', article._id,\n                        {\n                            ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                        });\n                }\n\n                this.changed('newsArticlesJoined', article._id, { isInArchive: false });\n            }\n        },\n\n        /**\n         * Whenever a document was removed in {@link Archive}, we update the document in\n         * this publication and set isInReadingList to false.\n         *\n         * @param fields\n         *          the document that was removed\n         * @returns {boolean}\n         */\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            // The following piece of code had to be inserted only due to a Meteor problem.\n            // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n            //\n            // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n            // document has to be changed. This is normal, as the id of the document is not yet in the\n            // collection. To avoid the warning, we need to make sure that the document is added to the\n            // collection, before any changes to it can be made. That is why we use this.added. If the\n            // document already exists in the collection, this.added will do nothing.\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n            const article = NewsArticles.findOne({ _id: articleId });\n            const recommendation = Recommendations.findOne({ articleId });\n\n            const explanationTags = Explanations.findOne({ articleId: article._id, userId }) || {};\n            let { explanationTagsId } = explanationTags;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n            const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n            if (recommendation) {\n                this.added('newsArticlesJoined', article._id,\n                    {\n                        ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                    });\n            } else {\n                this.added('newsArticlesJoined', article._id,\n                    {\n                        ...article, explanationArticle, isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                    });\n            }\n\n            this.changed('newsArticlesJoined', article._id, { isInArchive: false });\n        },\n    });\n\n    this.ready();\n    initializing = false;\n\n    this.onStop(() => {\n        explanationsObserver.stop();\n        readingListObserver.stop();\n        archiveObserver.stop();\n    });\n});\n\n\n/**\n * Publishes all news articles from {@link NewsArticles} for which there is an entry in {@link ReadingList}.\n *\n * @returns {any | Mongo.Cursor | number | T}\n */\nMeteor.publish('newsArticlesInReadingList', function newsArticlesInReadingListPublication() {\n    let initializing = true;\n    const { userId } = this;\n\n    let experiment;\n    let user = Meteor.user({ fields: { participatesIn: 1 } });\n    if (!user) {\n        experiment = null;\n    } else {\n        experiment = Experiments.findOne({ _id: user.participatesIn });\n    }\n    if (!experiment) {\n        user = Meteor.user({ fields: { experiments: 1 } });\n        if (!user || !userIsInRole('admin')) {\n            experiment = null;\n        } else {\n            const ownedExperiments = user.experiments.map(experiment => experiment.experiment);\n            experiment = Experiments.findOne({ _id: { $in: ownedExperiments } });\n        }\n    }\n    if (!experiment) {\n        experiment = {};\n    }\n\n    let { explanationTagsDef, maxNrExplanationTags } = experiment;\n    if (explanationTagsDef === undefined) {\n        explanationTagsDef = {};\n    }\n    if (maxNrExplanationTags === undefined) {\n        maxNrExplanationTags = 0;\n    }\n\n    const newsArticlesInReadingList = ReadingList.find({ userId, removedAt: { $exists: false } }).fetch();\n    const newsArticleIds = newsArticlesInReadingList.map(({ articleId }) => articleId);\n    const newsArticles = NewsArticles.find({ _id: { $in: newsArticleIds } }).fetch();\n\n    for (let i = 0; i < newsArticles.length; i++) {\n        const article = newsArticles[i];\n\n        const explanationTags = Explanations.findOne({\n            articleId: article._id,\n            userId,\n        }) || {};\n        let { explanationTagsId } = explanationTags;\n        if (explanationTagsId === undefined) {\n            explanationTagsId = [];\n        }\n\n        const explanationArticle = [];\n        let key; let\n            tag;\n\n        for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n            key = explanationTagsId[i];\n            tag = explanationTagsDef[key];\n            if (tag) {\n                explanationArticle.push(tag);\n            }\n        }\n\n        const isInArchive = Archive.findOne({\n            articleId: article._id,\n            userId,\n            removedAt: { $exists: false },\n        });\n\n        this.added('newsArticlesInReadingList', article._id, {\n            ...article,\n            explanationArticle,\n            isInReadingList: true,\n            isInArchive: !!isInArchive,\n        });\n    }\n\n    const explanationsObserver = Explanations.find({ userId }).observe({\n\n        added: (document) => {\n            if (initializing) {\n                return false;\n            }\n\n            let { explanationTagsId } = document;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            this.changed('newsArticlesInReadingList', document.articleId, { explanationArticle });\n        },\n\n        changed: (document) => {\n            let { explanationTagsId } = document;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n            this.changed('newsArticlesInReadingList', articleId, { explanationArticle });\n        },\n\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n            this.changed('newsArticlesInReadingList', articleId, { explanationArticle: [] });\n        },\n    });\n\n    const readingListObserver = ReadingList.find({ userId }).observe({\n\n        /**\n         * Whenever a document is added to {@link ReadingList}, we add the document in this\n         * publication too\n         *\n         * @param document\n         *          the document that was added\n         * @returns {boolean}\n         */\n        added: (document) => {\n            if (initializing) {\n                return false;\n            }\n\n            const article = NewsArticles.findOne(document.articleId);\n\n            const isInArchive = Archive.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            if (article) {\n                this.added('newsArticlesInReadingList', article._id, {\n                    ...article,\n                    isInReadingList: true,\n                    isInArchive: !!isInArchive,\n                });\n            }\n        },\n\n        changed: (document) => {\n            if (document.removedAt) {\n                const documentId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                this.removed('newsArticlesInReadingList', documentId);\n            }\n        },\n\n        /**\n         * Whenever a document was removed in {@link ReadingList}, we remove the article in this\n         * publication too.\n         *\n         * @param fields\n         *          the document that was removed\n         * @returns {boolean}\n         */\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n            const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n            this.removed('newsArticlesInReadingList', articleId);\n        },\n    });\n\n    const archiveObserver = Archive.find({ userId }).observe({\n\n        /**\n         * Whenever a document is added to {@link Archive}, we update the document in\n         * this publication and set isInArchive to true.\n         *\n         * @param document\n         *          the document that was added\n         * @returns {boolean}\n         */\n        added: (document) => {\n            if (initializing) {\n                return false;\n            }\n\n            const article = ReadingList.findOne({\n                articleId: document.articleId,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            if (article) {\n                const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                this.changed('newsArticlesInReadingList', articleId, { isInArchive: true });\n            }\n        },\n\n        /**\n         * Whenever a document in {@link Archive} is changed, we update the document\n         * in this publication and set isInArchive accordingly.\n         * If an article is removed from the archive, the document in {@link Archive}\n         * is not remove but only updated. That is, an article was removed from the\n         * archive if the document in {@link Archive} has a field \"removedAt\".\n         *\n         * @param document\n         */\n        changed: (document) => {\n            const article = ReadingList.findOne({\n                articleId: document.articleId,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            if (document.removedAt) {\n                if (article) {\n                    const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                    this.changed('newsArticlesInReadingList', articleId, { isInArchive: false });\n                }\n            }\n        },\n\n        /**\n         * Whenever a document was removed in {@link Archive}, we update the document in\n         * this publication and set isInArchive to false.\n         *\n         * @param fields\n         *          the document that was removed\n         * @returns {boolean}\n         */\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            const article = ReadingList.findOne({\n                articleId: document.articleId,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            if (article) {\n                const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n                this.changed('newsArticlesInReadingList', articleId, { isInArchive: false });\n            }\n        },\n    });\n\n    const newsArticlesObserver = NewsArticles.find().observe({\n\n        /**\n         * If an article is removed from {@link NewsArticles}, we simply remove it from this publication as well.\n         *\n         * @param document\n         *          the document that was removed\n         */\n        removed: (document) => {\n            const documentId = removeWeirdMinusSignsInFrontOfString(document._id);\n            this.removed('newsArticlesInReadingList', documentId);\n        },\n\n    });\n\n    this.ready();\n    initializing = false;\n\n    this.onStop(() => {\n        explanationsObserver.stop();\n        readingListObserver.stop();\n        archiveObserver.stop();\n        newsArticlesObserver.stop();\n    });\n\n});\n\n/**\n * Publishes all news articles from {@link NewsArticles} for which there is an entry in {@link Archive}.\n *\n * @returns {any | Mongo.Cursor | number | T}\n */\nMeteor.publish('newsArticlesInArchive', function newsArticlesInArchivePublication() {\n    let initializing = true;\n    const { userId } = this;\n\n    let experiment;\n    let user = Meteor.user({ fields: { participatesIn: 1 } });\n    if (!user) {\n        experiment = null;\n    } else {\n        experiment = Experiments.findOne({ _id: user.participatesIn });\n    }\n    if (!experiment) {\n        user = Meteor.user({ fields: { experiments: 1 } });\n        if (!user || !userIsInRole('admin')) {\n            experiment = null;\n        } else {\n            const ownedExperiments = user.experiments.map(experiment => experiment.experiment);\n            experiment = Experiments.findOne({ _id: { $in: ownedExperiments } });\n        }\n    }\n    if (!experiment) {\n        experiment = {};\n    }\n\n    let { explanationTagsDef, maxNrExplanationTags } = experiment;\n    if (explanationTagsDef === undefined) {\n        explanationTagsDef = {};\n    }\n    if (maxNrExplanationTags === undefined) {\n        maxNrExplanationTags = 0;\n    }\n\n    const newsArticlesInArchive = Archive.find({ userId, removedAt: { $exists: false } }).fetch();\n    const newsArticleIds = newsArticlesInArchive.map(({ articleId }) => articleId);\n    const newsArticles = NewsArticles.find({ _id: { $in: newsArticleIds } }).fetch();\n\n    for (let i = 0; i < newsArticles.length; i++) {\n        const article = newsArticles[i];\n\n        const explanationTags = Explanations.findOne({\n            articleId: article._id,\n            userId,\n        }) || {};\n        let { explanationTagsId } = explanationTags;\n        if (explanationTagsId === undefined) {\n            explanationTagsId = [];\n        }\n\n        const explanationArticle = [];\n        let key; let\n            tag;\n\n        for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n            key = explanationTagsId[i];\n            tag = explanationTagsDef[key];\n            if (tag) {\n                explanationArticle.push(tag);\n            }\n        }\n\n        const isInReadingList = ReadingList.findOne({\n            articleId: article._id,\n            userId,\n            removedAt: { $exists: false },\n        });\n\n        this.added('newsArticlesInArchive', article._id, {\n            ...article,\n            explanationArticle,\n            isInReadingList: !!isInReadingList,\n            isInArchive: true,\n        });\n    }\n\n    const explanationsObserver = Explanations.find({ userId }).observe({\n\n        added: (document) => {\n            if (initializing) {\n                return false;\n            }\n\n            let { explanationTagsId } = document;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            this.changed('newsArticlesInArchive', document.articleId, { explanationArticle });\n        },\n\n        changed: (document) => {\n            let { explanationTagsId } = document;\n            if (explanationTagsId === undefined) {\n                explanationTagsId = [];\n            }\n\n            const explanationArticle = [];\n            let key; let\n                tag;\n\n            for (let i = 0; i < Math.min(explanationTagsId.length, maxNrExplanationTags); i++) {\n                key = explanationTagsId[i];\n                tag = explanationTagsDef[key];\n                if (tag) {\n                    explanationArticle.push(tag);\n                }\n            }\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n            this.changed('newsArticlesInArchive', articleId, { explanationArticle });\n        },\n\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n            this.changed('newsArticlesInArchive', articleId, { explanationArticle: [] });\n        },\n    });\n\n    const archiveObserver = Archive.find({ userId }).observe({\n\n        /**\n         * Whenever a document is added to {@link Archive}, we add the document in this\n         * publication too\n         *\n         * @param document\n         *          the document that was added\n         * @returns {boolean}\n         */\n        added: (document) => {\n            if (initializing) {\n                return false;\n            }\n\n            const article = NewsArticles.findOne(document.articleId);\n\n            const isInReadingList = ReadingList.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            if (article) {\n                this.added('newsArticlesInArchive', article._id, {\n                    ...article,\n                    isInReadingList: !!isInReadingList,\n                    isInArchive: true,\n                });\n            }\n        },\n\n        changed: (document) => {\n            if (document.removedAt) {\n                const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                this.removed('newsArticlesInArchive', articleId);\n            }\n        },\n\n        /**\n         * Whenever a document was removed in {@link Archive}, we remove the article in this\n         * publication too.\n         *\n         * @param fields\n         *          the document that was removed\n         * @returns {boolean}\n         */\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n            this.removed('newsArticlesInArchive', articleId);\n        },\n    });\n\n    const readingListObserver = ReadingList.find({ userId }).observe({\n\n        /**\n         * Whenever a document is added to {@link ReadingList}, we update the document in\n         * this publication and set isInReadingList to true.\n         *\n         * @param document\n         *          the document that was added\n         * @returns {boolean}\n         */\n        added: (document) => {\n            if (initializing) {\n                return false;\n            }\n\n            const article = Archive.findOne({\n                articleId: document.articleId,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            if (article) {\n                const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                this.changed('newsArticlesInArchive', articleId, { isInReadingList: true });\n            }\n        },\n\n        /**\n         * Whenever a document in {@link ReadingList} is changed, we update the document\n         * in this publication and set isInReadingList accordingly.\n         * If an article is removed from the reading list, the document in {@link ReadingList}\n         * is not remove but only updated. That is, an article was removed from the\n         * reading list if the document in {@link ReadingList} has a field \"removedAt\".\n         *\n         * @param document\n         */\n        changed: (document) => {\n            const article = Archive.findOne({\n                articleId: document.articleId,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            if (document.removedAt) {\n                if (article) {\n                    const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                    this.changed('newsArticlesInArchive', articleId, { isInReadingList: false });\n                }\n            }\n        },\n\n        /**\n         * Whenever a document was removed in {@link ReadingList}, we update the document in\n         * this publication and set isInReadingList to false.\n         *\n         * @param fields\n         *          the document that was removed\n         * @returns {boolean}\n         */\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            const article = Archive.findOne({\n                articleId: fields.articleId,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            if (article) {\n                const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n                this.changed('newsArticlesInArchive', articleId, { isInReadingList: false });\n            }\n        },\n    });\n\n    const newsArticlesObserver = NewsArticles.find().observe({\n\n        /**\n         * If an article is removed from {@link NewsArticles}, we simply remove it from this publication as well.\n         *\n         * @param document\n         *          the document that was removed\n         */\n        removed: (document) => {\n            const documentId = removeWeirdMinusSignsInFrontOfString(document._id);\n            this.removed('newsArticlesInArchive', documentId);\n        },\n\n    });\n\n    this.ready();\n    initializing = false;\n\n    this.onStop(() => {\n        explanationsObserver.stop();\n        archiveObserver.stop();\n        readingListObserver.stop();\n        newsArticlesObserver.stop();\n    });\n\n});\n\nMeteor.publish('furtherRecommendedNewsArticles', function furtherRecommendedNewsArticlesPublications(limit, primaryCategory, articleId) {\n    check(limit, Number);\n    check(primaryCategory, String);\n    check(articleId, String);\n\n    let initializing = true;\n    const { userId } = this;\n\n    const cleanId = removeWeirdMinusSignsInFrontOfString(articleId);\n    const recommendations = Recommendations.find({ userId, primaryCategory, articleId: { $ne: cleanId } }, { sort: { prediction: -1 }, limit }).fetch();\n\n    if (recommendations && recommendations.length > 0) {\n        for (let i = 0; i < recommendations.length; i++) {\n            const { articleId, prediction } = recommendations[i];\n            const article = NewsArticles.findOne({ _id: articleId });\n\n            if (!article) {\n                continue;\n            }\n\n            const isInReadingList = ReadingList.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            const isInArchive = Archive.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            this.added('furtherRecommendedNewsArticles', article._id, {\n                ...article,\n                explanationArticle: [],\n                isInReadingList: !!isInReadingList,\n                isInArchive: !!isInArchive,\n                prediction,\n            });\n        }\n    } else {\n        const newsArticles = NewsArticles.find({ primaryCategory, _id: { $ne: cleanId } }, { sort: { datePublished: -1 }, limit }).fetch();\n        for (let i = 0; i < newsArticles.length; i++) {\n            const article = newsArticles[i];\n\n            const isInReadingList = ReadingList.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            const isInArchive = Archive.findOne({\n                articleId: article._id,\n                userId,\n                removedAt: { $exists: false },\n            });\n\n            this.added('furtherRecommendedNewsArticles', article._id, {\n                ...article,\n                explanationArticle: [],\n                isInReadingList: !!isInReadingList,\n                isInArchive: !!isInArchive,\n            });\n\n        }\n    }\n\n    const readingListObserver = ReadingList.find({ userId }).observe({\n\n        added: (document) => {\n            if (initializing) {\n                return false;\n            }\n\n            // The following piece of code had to be inserted only due to a Meteor problem.\n            // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n            //\n            // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n            // document has to be changed. This is normal, as the id of the document is not yet in the\n            // collection. To avoid the warning, we need to make sure that the document is added to the\n            // collection, before any changes to it can be made. That is why we use this.added. If the\n            // document already exists in the collection, this.added will do nothing.\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n            const article = NewsArticles.findOne({ _id: articleId });\n            const recommendation = Recommendations.findOne({ articleId });\n            const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n            const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n            if (recommendation) {\n                this.added('furtherRecommendedNewsArticles', article._id,\n                    {\n                        ...article, explanationArticle: [], isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                    });\n            } else {\n                this.added('furtherRecommendedNewsArticles', article._id,\n                    {\n                        ...article, explanationArticle: [], isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                    });\n            }\n\n            this.changed('furtherRecommendedNewsArticles', article._id, { isInReadingList: true });\n        },\n\n        changed: (document) => {\n            if (document.removedAt) {\n\n                // The following piece of code had to be inserted only due to a Meteor problem.\n                // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n                //\n                // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n                // document has to be changed. This is normal, as the id of the document is not yet in the\n                // collection. To avoid the warning, we need to make sure that the document is added to the\n                // collection, before any changes to it can be made. That is why we use this.added. If the\n                // document already exists in the collection, this.added will do nothing.\n\n                const articleId = removeWeirdMinusSignsInFrontOfString(document.articleId);\n                const article = NewsArticles.findOne({ _id: articleId });\n                const recommendation = Recommendations.findOne({ articleId });\n                const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n                const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n                if (recommendation) {\n                    this.added('furtherRecommendedNewsArticles', article._id,\n                        {\n                            ...article, explanationArticle: [], isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                        });\n                } else {\n                    this.added('furtherRecommendedNewsArticles', article._id,\n                        {\n                            ...article, explanationArticle: [], isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                        });\n                }\n\n                this.changed('furtherRecommendedNewsArticles', article._id, { isInReadingList: false });\n            }\n        },\n\n        removed: (fields) => {\n            if (initializing) {\n                return false;\n            }\n\n            // The following piece of code had to be inserted only due to a Meteor problem.\n            // WARNING: IT IS DUPLICATED AT DIFFERENT PLACES IN newsArticles.js.\n            //\n            // this.changed generates a Meteor warning, if a document is not yet in the collection, however we say the\n            // document has to be changed. This is normal, as the id of the document is not yet in the\n            // collection. To avoid the warning, we need to make sure that the document is added to the\n            // collection, before any changes to it can be made. That is why we use this.added. If the\n            // document already exists in the collection, this.added will do nothing.\n\n            const articleId = removeWeirdMinusSignsInFrontOfString(fields.articleId);\n            const article = NewsArticles.findOne({ _id: articleId });\n            const recommendation = Recommendations.findOne({ articleId });\n            const isInReadingList = ReadingList.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n            const isInArchive = Archive.findOne({ articleId: article._id, userId, removedAt: { $exists: false } });\n\n            if (recommendation) {\n                this.added('furtherRecommendedNewsArticles', article._id,\n                    {\n                        ...article, explanationArticle: [], isInReadingList: !!isInReadingList, isInArchive: !!isInArchive, prediction: recommendation.prediction,\n                    });\n            } else {\n                this.added('furtherRecommendedNewsArticles', article._id,\n                    {\n                        ...article, explanationArticle: [], isInReadingList: !!isInReadingList, isInArchive: !!isInArchive,\n                    });\n            }\n\n            this.changed('furtherRecommendedNewsArticles', article._id, { isInReadingList: false });\n        },\n    });\n\n    // If at some point the article Preview component has to be extended by showing the star symbol, similar to the\n    // bookmark symbol currently, then an archiveListObserver will have to be added (similar to the\n    // readingListObserver above).\n\n    this.ready();\n    initializing = false;\n\n    this.onStop(() => {\n        readingListObserver.stop();\n    });\n});\n","import { Meteor } from 'meteor/meteor';\r\nimport { Surveys } from '../../surveys';\r\nimport { Answers } from '../../answers';\r\n\r\nMeteor.publish('surveys', () => {\r\n    const user = Meteor.user({ fields: { experiments: 1 } });\r\n    if (!user) {\r\n        throw new Meteor.Error(403, 'Permission Denied');\r\n    }\r\n\r\n    experiments = user.experiments.map(experiment => experiment.experiment)\r\n\r\n    return Surveys.find({ experiment: { $in: experiments } });\r\n});\r\n\r\nMeteor.publish('surveys.unanswered', function unansweredSurveysPublication() {\r\n    let initializing = true;\r\n\r\n    const { userId } = this;\r\n    const user = Meteor.user();\r\n\r\n    if (!userId || !user) {\r\n        return [];\r\n    }\r\n    const { participatesIn } = user;\r\n\r\n    const answeredSurveysIds = Answers.find({ userId }, { fields: { surveyId: 1 } })\r\n        .map(({ surveyId }) => surveyId);\r\n\r\n    Surveys.find({\r\n        _id: { $nin: answeredSurveysIds },\r\n        experiment: participatesIn,\r\n    }, {\r\n        sort: { createdAt: 1 },\r\n    }).forEach(survey => (\r\n        this.added('unansweredSurveys', survey._id, survey)\r\n    ));\r\n\r\n    const answersObserver = Answers.find({ userId }).observe({\r\n\r\n        added: (document) => {\r\n            if (initializing) {\r\n                return false;\r\n            }\r\n\r\n            const { surveyId } = document;\r\n            this.removed('unansweredSurveys', surveyId);\r\n        },\r\n\r\n        removed: (document) => {\r\n            const { surveyId } = document;\r\n            const survey = Surveys.findOne({ _id: surveyId });\r\n            this.added('unansweredSurveys', surveyId, survey);\r\n        },\r\n\r\n    });\r\n\r\n    const surveysObserver = Surveys.find({ experiment: participatesIn }).observeChanges({\r\n\r\n        added: (id, fields) => {\r\n            if (initializing) {\r\n                return false;\r\n            }\r\n\r\n            const hasAnsweredSurvey = Answers.find({ userId, surveyId: id }).count() > 0;\r\n\r\n            if (!hasAnsweredSurvey) {\r\n                this.added('unansweredSurveys', id, fields);\r\n            }\r\n        },\r\n\r\n        removed: (id) => {\r\n            this.removed('unansweredSurveys', id);\r\n        },\r\n\r\n    });\r\n\r\n    this.ready();\r\n    initializing = false;\r\n\r\n    this.onStop(() => {\r\n        answersObserver.stop();\r\n        surveysObserver.stop();\r\n    });\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { userIsInRole } from '../../../lib/utils/utils_account';\r\n\r\nMeteor.publish('userData', function userDataPublication() {\r\n    return Meteor.users.find(this.userId, {\r\n        fields: {\r\n            roles: 1,\r\n            experiments: 1,\r\n            fullName: 1,\r\n        },\r\n    });\r\n});\r\n\r\nMeteor.publish('users.all', () => {\r\n    const user = Meteor.user();\r\n    if (!user) {\r\n        throw new Meteor.Error(403, 'Permission Denied');\r\n    }\r\n\r\n    if (!userIsInRole('admin')) {\r\n        throw new Meteor.Error(403, 'Permission Denied');\r\n    }\r\n\r\n    experimentsList = user.experiments.map( experimentsObject => experimentsObject.experiment );\r\n\r\n    return Meteor.users.find({ participatesIn: { $in: experimentsList }});\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { check, Match } from 'meteor/check';\r\nimport { Mongo } from 'meteor/mongo';\r\nimport { Surveys } from './surveys';\r\n\r\nexport const Answers = new Mongo.Collection('answers');\r\n\r\nMeteor.methods({\r\n\r\n    'answers.add'(surveyId, surveyAnswers) {\r\n        check(surveyId, String);\r\n        check(surveyAnswers, Array);\r\n\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        const initialSurvey = Surveys.findOne(surveyId);\r\n        const { questions } = initialSurvey;\r\n        const createdAt = new Date();\r\n        const answers = [];\r\n\r\n        surveyAnswers.forEach((a, i) => {\r\n            answers.push({\r\n                questionId: questions[i]._id,\r\n                questionText: questions[i].text,\r\n                selections: Object.keys(a).map(key => a[key]),\r\n            });\r\n        });\r\n\r\n        Answers.insert({\r\n            surveyId,\r\n            userId,\r\n            createdAt,\r\n            answers,\r\n        });\r\n    },\r\n\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { Mongo } from 'meteor/mongo';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../lib/utils/utils_string';\r\nimport { NewsArticles } from './articles';\r\n\r\nexport const Archive = new Mongo.Collection('archive');\r\n\r\nMeteor.methods({\r\n\r\n    /**\r\n     * Adds the article with the given id to the current user's archive.\r\n     *\r\n     * @param articleId\r\n     *          the id of the article that's added to the archive\r\n     * @returns {any}\r\n     *          The unique _id of the document that was inserted\r\n     */\r\n    'archive.article.add'(articleId) {\r\n        check(articleId, String);\r\n\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n        const article = NewsArticles.findOne(cleanArticleId);\r\n\r\n        if (!article) {\r\n            throw new Meteor.Error(404, 'Article not found');\r\n        }\r\n\r\n        const { dateScraped } = article;\r\n\r\n        return Archive.insert({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            createdAt: new Date(),\r\n            articlePublishedDate: dateScraped,\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Removes a news article from the archive of the current user.\r\n     *\r\n     * @param articleId\r\n     *          id of the news article that will be removed from the archive\r\n     *\r\n     * @returns {any}\r\n     *          number of removed documents\r\n     */\r\n    'archive.article.remove'(articleId) {\r\n        check(articleId, String);\r\n\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n        return Archive.update({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            removedAt: {\r\n                $exists: false,\r\n            },\r\n        }, {\r\n            $set: {\r\n                removedAt: new Date(),\r\n            },\r\n        }, {\r\n            multi: true,\r\n        });\r\n    },\r\n\r\n});\r\n","import { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\nimport { Meteor } from 'meteor/meteor';\nimport { NewsArticles } from './articles';\nimport { removeWeirdMinusSignsInFrontOfString } from '../lib/utils/utils_string';\n\nexport const ArticleLikes = new Mongo.Collection('articleLikes');\nexport const ArticleTotalLikes = new Mongo.Collection('articleTotalLikes');\n\nMeteor.methods({\n\n    'articleLikes.insert'(articleId, articleQuestionId, experimentId) {\n        check(articleId, String);\n        check(articleQuestionId, String);\n        check(experimentId, String);\n\n        const userId = Meteor.userId();\n        if (!userId) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        // due to a bug in react-native-meteor and/or minimongo-cache\n        // some ids include a minus sign in front of them and we need to strip that first\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\n        const article = NewsArticles.findOne(cleanArticleId);\n\n        if (!article) {\n            throw new Meteor.Error(404, 'Article not found');\n        }\n\n        const articleTotalLikesDislikes = ArticleTotalLikes.findOne({\n            articleId: cleanArticleId,\n            experimentId,\n        });\n        let questionsArray;\n        if (!articleTotalLikesDislikes) {\n            ArticleTotalLikes.insert({\n                articleId: cleanArticleId,\n                experimentId,\n                counts: [],\n                questions: [],\n            });\n            questionsArray = [];\n        } else {\n            questionsArray = articleTotalLikesDislikes.questions;\n        }\n\n        if (questionsArray.includes(articleQuestionId)) {\n            ArticleTotalLikes.update({\n                articleId: cleanArticleId,\n                experimentId,\n                'counts.articleQuestionId': articleQuestionId,\n            }, { $inc: { 'counts.$.countLikes': 1 } });\n        } else {\n            ArticleTotalLikes.update({\n                articleId: cleanArticleId,\n                experimentId,\n            }, {\n                $push: {\n                    counts: {\n                        articleQuestionId,\n                        countLikes: 1,\n                        countDislikes: 0,\n                    },\n                    questions: articleQuestionId,\n                },\n            });\n        }\n\n        return ArticleLikes.insert({\n            articleId: cleanArticleId,\n            userId,\n            articleQuestionId,\n            articleAnswer: 1,\n            createdAt: new Date(),\n        });\n\n    },\n\n    'articleLikes.remove'(articleId, articleQuestionId, experimentId) {\n        check(articleId, String);\n        check(articleQuestionId, String);\n        check(experimentId, String);\n\n        const userId = Meteor.userId();\n        if (!userId) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        // due to a bug in react-native-meteor and/or minimongo-cache\n        // some ids include a minus sign in front of them and we need to strip that first\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\n\n        ArticleTotalLikes.update({\n            articleId: cleanArticleId,\n            experimentId,\n            'counts.articleQuestionId': articleQuestionId,\n        }, { $inc: { 'counts.$.countLikes': -1 } });\n\n        const articleLike = ArticleLikes.findOne({\n            articleId: cleanArticleId, userId, articleQuestionId, articleAnswer: 1,\n        },\n        { sort: { createdAt: -1 } });\n        return ArticleLikes.update(articleLike, { $set: { removedAt: new Date() } });\n    },\n\n    'articleDislikes.insert'(articleId, articleQuestionId, experimentId) {\n        check(articleId, String);\n        check(articleQuestionId, String);\n        check(experimentId, String);\n\n        const userId = Meteor.userId();\n        if (!userId) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        // due to a bug in react-native-meteor and/or minimongo-cache\n        // some ids include a minus sign in front of them and we need to strip that first\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\n        const article = NewsArticles.findOne(cleanArticleId);\n\n        if (!article) {\n            throw new Meteor.Error(404, 'Article not found');\n        }\n\n        const articleTotalLikesDislikes = ArticleTotalLikes.findOne({\n            articleId: cleanArticleId,\n            experimentId,\n        });\n        let questionsArray;\n        if (!articleTotalLikesDislikes) {\n            ArticleTotalLikes.insert({\n                articleId: cleanArticleId,\n                experimentId,\n                counts: [],\n                questions: [],\n            });\n            questionsArray = [];\n        } else {\n            questionsArray = articleTotalLikesDislikes.questions;\n        }\n\n        if (questionsArray.includes(articleQuestionId)) {\n            ArticleTotalLikes.update({\n                articleId: cleanArticleId,\n                experimentId,\n                'counts.articleQuestionId': articleQuestionId,\n            }, { $inc: { 'counts.$.countDislikes': 1 } });\n        } else {\n            ArticleTotalLikes.update({\n                articleId: cleanArticleId,\n                experimentId,\n            }, {\n                $push: {\n                    counts: {\n                        articleQuestionId,\n                        countLikes: 0,\n                        countDislikes: 1,\n                    },\n                    questions: articleQuestionId,\n                },\n            });\n        }\n\n        return ArticleLikes.insert({\n            articleId: cleanArticleId,\n            userId,\n            articleQuestionId,\n            articleAnswer: -1,\n            createdAt: new Date(),\n        });\n\n    },\n\n    'articleDislikes.remove'(articleId, articleQuestionId, experimentId) {\n        check(articleId, String);\n        check(articleQuestionId, String);\n        check(experimentId, String);\n\n        const userId = Meteor.userId();\n        if (!userId) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        // due to a bug in react-native-meteor and/or minimongo-cache\n        // some ids include a minus sign in front of them and we need to strip that first\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\n\n        ArticleTotalLikes.update({\n            articleId: cleanArticleId,\n            experimentId,\n            'counts.articleQuestionId': articleQuestionId,\n        }, { $inc: { 'counts.$.countDislikes': -1 } });\n\n        const articleDislike = ArticleLikes.findOne({\n            articleId: cleanArticleId, userId, articleQuestionId, articleAnswer: -1,\n        },\n        { sort: { createdAt: -1 } });\n        return ArticleLikes.update(articleDislike, { $set: { removedAt: new Date() } });\n    },\n\n});\n","import { Mongo } from 'meteor/mongo';\r\nimport { check } from 'meteor/check';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { NewsArticles } from './articles';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../lib/utils/utils_string';\r\n\r\nexport const ArticleViews = new Mongo.Collection('articleViews');\r\n\r\nMeteor.methods({\r\n\r\n    'articleViews.add'(articleId) {\r\n        check(articleId, String);\r\n\r\n        const { userId } = this;\r\n\r\n        if (!userId) {\r\n            throw new Meteor.Error(400, 'Permission Denied');\r\n        }\r\n\r\n        const article = NewsArticles.findOne(articleId);\r\n\r\n        if (!article) {\r\n            throw new Meteor.Error(404, 'Article not found');\r\n        }\r\n\r\n        const { dateScraped } = article;\r\n\r\n        const now = new Date();\r\n        // no need for reactivity in this operation\r\n        return ArticleViews.rawCollection().findAndModify(\r\n            {\r\n                userId,\r\n                articleId,\r\n            },\r\n            { createdAt: -1 },\r\n            {\r\n                $setOnInsert: {\r\n                    createdAt: now,\r\n                    articlePublishedDate: dateScraped,\r\n                    duration: 0,\r\n                    maxScrolledContent: 0,\r\n                },\r\n                $set: { updatedAt: now },\r\n                $inc: { views: 1 },\r\n            },\r\n            { upsert: true }\r\n        );\r\n    },\r\n\r\n    'articleViews.duration.update'(articleId) {\r\n        check(articleId, String);\r\n\r\n        const { userId } = this;\r\n\r\n        if (!userId) {\r\n            throw new Meteor.Error(400, 'Permission Denied');\r\n        }\r\n\r\n        const now = new Date();\r\n        const view = ArticleViews.findOne({ userId, articleId });\r\n        const durationIncrement = now - view.updatedAt;\r\n        return ArticleViews.update(view, { $inc: { duration: durationIncrement } });\r\n    },\r\n\r\n    'articleViews.maxScrolledContent.update'(articleId, maxScrolledContent) {\r\n        check(articleId, String);\r\n\r\n        const { userId } = this;\r\n\r\n        if (!userId) {\r\n            throw new Meteor.Error(400, 'Permission Denied');\r\n        }\r\n\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n        return ArticleViews.update({ userId, articleId: cleanArticleId }, { $max: { maxScrolledContent } });\r\n    },\r\n\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { Mongo } from 'meteor/mongo';\r\nimport { ReadingList } from './readingList';\r\nimport { Archive } from './archive';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../lib/utils/utils_string';\r\n\r\nexport const NewsArticles = new Mongo.Collection('newsArticles');\r\nexport const NewsArticlesJoined = new Mongo.Collection('newsArticlesJoined');\r\nexport const NewsArticlesInReadingList = new Mongo.Collection('newsArticlesInReadingList');\r\nexport const NewsArticlesInArchive = new Mongo.Collection('newsArticlesInArchive');\r\nexport const FurtherRecommendedNewsArticles = new Mongo.Collection('furtherRecommendedNewsArticles');\r\n\r\n\r\nMeteor.methods({\r\n    'newsArticles.bookmark.update'(articleId) {\r\n        check(articleId, String);\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n\r\n        const { userId } = this;\r\n        const isInReadingList = ReadingList.find({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            removedAt: {\r\n                $exists: false,\r\n            },\r\n        }).count() > 0;\r\n\r\n        if (isInReadingList) {\r\n            Meteor.call('readingList.article.remove', cleanArticleId);\r\n        } else {\r\n            Meteor.call('readingList.article.add', cleanArticleId);\r\n        }\r\n    },\r\n\r\n    'newsArticles.favourite.update'(articleId) {\r\n        check(articleId, String);\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n\r\n        const { userId } = this;\r\n        const isInArchive = Archive.find({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            removedAt: {\r\n                $exists: false,\r\n            },\r\n        }).count() > 0;\r\n\r\n        if (isInArchive) {\r\n            Meteor.call('archive.article.remove', cleanArticleId);\r\n        } else {\r\n            Meteor.call('archive.article.add', cleanArticleId);\r\n        }\r\n    },\r\n\r\n    // 'newsArticles.count'(limit = 20) {\r\n    //         return NewsArticlesJoined.find(limit).count()\r\n    // }\r\n\r\n});\r\n","import { Mongo } from 'meteor/mongo';\nimport { check, Match } from 'meteor/check';\nimport { Random } from 'meteor/random';\nimport { userIsInRole, userOwnsExperiment } from '../lib/utils/utils_account';\nimport Experiment from '../ui/modules/experiments/Experiment';\n\nexport default Experiments = new Mongo.Collection('experiments');\n\nMeteor.methods({\n\n    'experiments.create'(name) {\n        check(name, String);\n\n        if (!userIsInRole('admin')) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        experimentId = Experiments.insert({\n            name,\n            testingPhase: true,\n            dislikeSurvey: {\n                question: 'Default dislike question',\n                answers: [\n                    {\n                        _id: Random.id(),\n                        text: 'Default dislike answer',\n                        value: 0,\n                    },\n                ],\n            },\n            likeSurvey: {\n                question: 'Default like question',\n                answers: [\n                    {\n                        _id: Random.id(),\n                        text: 'Default like answer',\n                        value: 0,\n                    },\n                ],\n            },\n        });\n\n        Meteor.users.update({ _id: Meteor.userId() }, {\n            $push: {\n                experiments: {\n                    experiment: experimentId,\n                    accessLevel: 0,\n                },\n            },\n        });\n\n        return experimentId;\n    },\n\n    'experiments.remove'(experimentId) {\n        check(experimentId, String);\n\n        if (!userIsInRole('admin') || !userOwnsExperiment(experimentId)) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        Experiments.remove(experimentId);\n    },\n\n    'experiments.update'(experiment) {\n        check(experiment, {\n            _id: String,\n            name: String,\n            testingPhase: Boolean,\n        });\n\n        if (!userIsInRole('admin') || !userOwnsExperiment(experiment._id)) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        Experiments.update({ _id: experiment._id }, {\n            $set: {\n                name: experiment.name,\n                testingPhase: experiment.testingPhase,\n            },\n        });\n\n    },\n\n    'experiments.launch'(experimentId) {\n        check(experimentId, String);\n\n        if (!userIsInRole('admin') || !userOwnsExperiment(experimentId)) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        Experiments.update({ _id: experimentId }, {\n            $set: {\n                testingPhase: false,\n            },\n        });\n    },\n\n    'experiments.dislikeSurvey.update'(experimentId, dislikeSurvey) {\n        check(experimentId, String);\n        check(dislikeSurvey, {\n            question: String,\n            answers: [{\n                _id: String,\n                text: String,\n                value: Number,\n            }],\n        });\n\n        if (!userIsInRole('admin') || !userOwnsExperiment(experimentId)) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        Experiments.update({ _id: experimentId }, {\n            $set: {\n                dislikeSurvey,\n            },\n        });\n\n    },\n    'experiments.likeSurvey.update'(experimentId, likeSurvey) {\n\n        check(experimentId, String);\n        check(likeSurvey, {\n            question: String,\n            answers: [{\n                _id: String,\n                text: String,\n                value: Number,\n            }],\n        });\n\n        if (!userIsInRole('admin') || !userOwnsExperiment(experimentId)) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        Experiments.update({ _id: experimentId }, {\n            $set: {\n                likeSurvey,\n            },\n        });\n    },\n\n    'experiments.dislikeSurvey.remove'(experimentId) {\n        if (!userIsInRole('admin') || !userOwnsExperiment(experimentId)) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        Experiments.update({ _id: experimentId }, {\n            $set: {\n                dislikeSurvey: null,\n            },\n        });\n    },\n\n    'experiments.likeSurvey.remove'(experimentId) {\n        if (!userIsInRole('admin') || !userOwnsExperiment(experimentId)) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        Experiments.update({ _id: experimentId }, {\n            $set: {\n                likeSurvey: null,\n            },\n        });\n    },\n\n    'experiments.addUsers'(experimentId, amount, userGroup) {\n        check(experimentId, String);\n        check(amount, Match.Integer);\n        check(userGroup, String);\n\n        if (!userIsInRole('admin') || !userOwnsExperiment(experimentId)) {\n            throw new Meteor.Error(403, 'Permission Denied');\n        }\n\n        if (amount > 30) {\n            throw new Meteor.Error(403, 'Too many users requested');\n        }\n\n        for (let i = 0; i < amount; i++) {\n            const newUser = {\n                username: Random.id(5),\n                password: Random.id(5),\n            };\n\n            const newUserId = Accounts.createUser(newUser);\n            Meteor.users.update({ _id: newUserId }, {\n                $set: {\n                    participatesIn: experimentId,\n                    userGroup,\n                    plaintextPassword: newUser.password,\n                },\n            });\n        }\n    },\n\n});\n","import { Mongo } from 'meteor/mongo';\r\nimport {Meteor} from \"meteor/meteor\";\r\nimport {check} from \"meteor/check\";\r\nimport {removeWeirdMinusSignsInFrontOfString} from \"../lib/utils/utils_string\";\r\nimport {NewsArticles} from \"./articles\";\r\n\r\nexport const Explanations = new Mongo.Collection('explanations');\r\nconst explanationViews = new Mongo.Collection('explanationViews');\r\n\r\nMeteor.methods({\r\n\r\n    'explanationViews.insert'(articleId) {\r\n        check(articleId, String);\r\n\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n        const article = NewsArticles.findOne(cleanArticleId);\r\n\r\n        if (!article) {\r\n            throw new Meteor.Error(404, 'Article not found');\r\n        }\r\n\r\n        return explanationViews.insert({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            createdAt: new Date(),\r\n        });\r\n\r\n    },\r\n\r\n});\r\n","import {Mongo} from 'meteor/mongo';\r\nimport {check} from 'meteor/check';\r\nimport {Meteor} from 'meteor/meteor';\r\nimport {removeWeirdMinusSignsInFrontOfString} from '../lib/utils/utils_string';\r\n\r\nexport const PageViews = new Mongo.Collection('pageViews');\r\n\r\nMeteor.methods({\r\n\r\n    'pageViews.add'(page, previousPage, currentParameters, prevParameters) {\r\n        check(page, String);\r\n        check(previousPage, String);\r\n        check(currentParameters, Object);\r\n        check(prevParameters, Object);\r\n\r\n        const {userId} = this;\r\n\r\n        if (!userId) {\r\n            throw new Meteor.Error(400, 'Permission Denied');\r\n        }\r\n\r\n        const currentParametersHardCopy = {...currentParameters};\r\n        if (currentParametersHardCopy.articleId) {\r\n            currentParametersHardCopy.articleId = removeWeirdMinusSignsInFrontOfString(currentParametersHardCopy.articleId);\r\n        }\r\n\r\n        const prevParametersHardCopy = {...prevParameters};\r\n        if (prevParametersHardCopy.articleId) {\r\n            prevParametersHardCopy.articleId = removeWeirdMinusSignsInFrontOfString(prevParametersHardCopy.articleId);\r\n        }\r\n\r\n        if (page === 'Article') {\r\n            Meteor.call('articleViews.add', currentParametersHardCopy.articleId);\r\n        }\r\n\r\n        if (previousPage === 'Article') {\r\n            Meteor.call('articleViews.duration.update', prevParametersHardCopy.articleId);\r\n        }\r\n\r\n        // Save in PageViews parameters of current open screen, unless the previous one was an Article screen\r\n        let parameters = currentParametersHardCopy;\r\n        if (previousPage === 'Article') {\r\n            parameters = prevParametersHardCopy;\r\n        }\r\n\r\n        return PageViews.insert({\r\n            userId,\r\n            page,\r\n            previousPage,\r\n            parameters,\r\n            createdAt: new Date(),\r\n        });\r\n    },\r\n\r\n});\r\n","import { Mongo } from 'meteor/mongo';\r\nimport { check } from 'meteor/check';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { NewsArticles } from './articles';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../lib/utils/utils_string';\r\n\r\nexport const PodcastAnalytics = new Mongo.Collection('podcastAnalytics');\r\n\r\nMeteor.methods({\r\n\r\n    'podcastAnalytics.insert'(articleId, action, podcastTimestamp) {\r\n        check(articleId, String);\r\n        check(action, String);\r\n        check(podcastTimestamp, Number);\r\n\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n        const article = NewsArticles.findOne(cleanArticleId);\r\n\r\n        if (!article) {\r\n            throw new Meteor.Error(404, 'Article not found');\r\n        }\r\n\r\n        return PodcastAnalytics.insert({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            action,\r\n            podcastTimestamp,\r\n            createdAt: new Date(),\r\n        });\r\n\r\n    },\r\n\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { Mongo } from 'meteor/mongo';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../lib/utils/utils_string';\r\nimport { NewsArticles } from './articles';\r\n\r\nexport const ReadingList = new Mongo.Collection('readingList');\r\n\r\nMeteor.methods({\r\n\r\n    /**\r\n     * Adds the article with the given id to the current user's reading list.\r\n     *\r\n     * @param articleId\r\n     *          the id of the article that's added to the reading list\r\n     * @returns {any}\r\n     *          The unique _id of the document that was inserted\r\n     */\r\n    'readingList.article.add'(articleId) {\r\n        check(articleId, String);\r\n\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n        const article = NewsArticles.findOne(cleanArticleId);\r\n\r\n        if (!article) {\r\n            throw new Meteor.Error(404, 'Article not found');\r\n        }\r\n\r\n        const { dateScraped } = article;\r\n\r\n        return ReadingList.insert({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            createdAt: new Date(),\r\n            articlePublishedDate: dateScraped,\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Removes a news article from the reading list of the current user.\r\n     *\r\n     * @param articleId\r\n     *          id of the news article that will be removed from the reading list\r\n     *\r\n     * @returns {any}\r\n     *          number of removed documents\r\n     */\r\n    'readingList.article.remove'(articleId) {\r\n        check(articleId, String);\r\n\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n        return ReadingList.update({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            removedAt: {\r\n                $exists: false,\r\n            },\r\n        }, {\r\n            $set: {\r\n                removedAt: new Date(),\r\n            },\r\n        }, {\r\n            multi: true,\r\n        });\r\n    },\r\n\r\n});\r\n","import { Mongo } from 'meteor/mongo';\r\n\r\nexport const Recommendations = new Mongo.Collection('recommendationLists');\r\n","import { Mongo } from 'meteor/mongo';\r\nimport { Meteor } from 'meteor/meteor';\r\n\r\nexport const SignIns = new Mongo.Collection('signins');\r\n\r\nMeteor.methods({\r\n\r\n    'signins.add'() {\r\n        const { userId } = this;\r\n\r\n        if (!userId) {\r\n            throw new Meteor.Error(400, 'Permission Denied');\r\n        }\r\n\r\n        return SignIns.insert({\r\n            userId,\r\n            createdAt: new Date(),\r\n        });\r\n    },\r\n\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { Random } from 'meteor/random';\r\nimport { check } from 'meteor/check';\r\nimport { Mongo } from 'meteor/mongo';\r\n\r\nimport { userOwnsSurvey, userOwnsExperiment } from '../lib/utils/utils_account';\r\n\r\nexport const Surveys = new Mongo.Collection('surveys');\r\nexport const UnansweredSurveys = new Mongo.Collection('unansweredSurveys');\r\n\r\nMeteor.methods({\r\n\r\n    'surveys.create'(surveyName, experimentId) {\r\n        check(surveyName, String);\r\n        check(experimentId, String);\r\n\r\n        const user = Meteor.user({ fields: { experiments: 1 } });\r\n        \r\n        if (!user) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        if (!userOwnsExperiment(experimentId)) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        return Surveys.insert({\r\n            name: surveyName,\r\n            experiment: experimentId,\r\n            createdBy: user._id,\r\n            createdAt: new Date(),\r\n            isActive: true,\r\n            questions: [{\r\n                _id: Random.id(),\r\n                text: '',\r\n                minSelect: 1,\r\n                maxSelect: 1,\r\n                answers: [\r\n                    {\r\n                        _id: Random.id(),\r\n                        text: '',\r\n                        value: 0,\r\n                    },\r\n                ],\r\n            }],\r\n        });\r\n    },\r\n\r\n    'surveys.delete'(surveyId) {\r\n        check(surveyId, String);\r\n\r\n        if (!userOwnsSurvey(surveyId)) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        return Surveys.remove(surveyId);\r\n    },\r\n\r\n    'surveys.update'(surveyId, isActive) {\r\n        check(surveyId, String);\r\n        check(isActive, Boolean);\r\n\r\n        if (!userOwnsSurvey(surveyId)) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        Surveys.update({ _id: surveyId }, { $set: { isActive }});\r\n    },\r\n\r\n    'surveys.questions.update'(surveyId, surveyQuestions) {\r\n        check(surveyId, String);\r\n        check(surveyQuestions, Array);\r\n\r\n        if (!userOwnsSurvey(surveyId)) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        // technically it would be more sensible to parse all inputs\r\n        // on the client side, i.e. inside the modal / form where the\r\n        // questions are edited (inside the change handlers). Unfortunately,\r\n        // using 'parseFloat' inside such a handler, which updates the state\r\n        // directly, leaves us with a very bad UX (to type a float one needs\r\n        // to start with '.', typing '0.' clears the input).\r\n        // thus, we transform all inputs here\r\n        const questions = surveyQuestions.map((question) => {\r\n            const newQuestion = {\r\n                ...question,\r\n                minSelect: parseInt(question.minSelect, 10),\r\n                maxSelect: parseInt(question.maxSelect, 10),\r\n                answers: question.answers.map(({ _id, text, value }) => ({\r\n                    _id,\r\n                    text,\r\n                    value: isNaN(parseFloat(value)) ? value : parseFloat(value),\r\n                })),\r\n            };\r\n\r\n            if (question.withAtLeast) {\r\n                newQuestion.withAtLeast = parseInt(question.withAtLeast, 10);\r\n            }\r\n\r\n            if (question.selectionsFrom) {\r\n                newQuestion.selectionsFrom = {\r\n                    _id: question.selectionsFrom.value,\r\n                    index: question.selectionsFrom.index,\r\n\r\n                    // value and label are used in the select component\r\n                    // in the edit modal.\r\n                    value: question.selectionsFrom.value,\r\n                    label: question.selectionsFrom.label,\r\n                };\r\n            }\r\n\r\n            if (question.canBeSkipped) {\r\n                newQuestion.canBeSkipped = question.canBeSkipped;\r\n                newQuestion.skipAnswerText = question.skipAnswerText;\r\n                newQuestion.skipAnswerValue = isNaN(parseFloat(question.skipAnswerValue))\r\n                    ? question.skipAnswerValue\r\n                    : parseFloat(question.skipAnswerValue);\r\n            }\r\n\r\n            if (question.hasOtherOption) {\r\n                newQuestion.hasOtherOption = question.hasOtherOption;\r\n                newQuestion.otherAnswerText = question.otherAnswerText;\r\n                newQuestion.otherAnswerValue = isNaN(parseFloat(question.otherAnswerValue))\r\n                    ? question.otherAnswerValue\r\n                    : parseFloat(question.otherAnswerValue);\r\n            }\r\n\r\n            return newQuestion;\r\n        });\r\n\r\n        return Surveys.update(surveyId, { $set: { questions } });\r\n    },\r\n\r\n});","import { Meteor } from 'meteor/meteor';\r\nimport { check } from 'meteor/check';\r\nimport { userIsInRole, userOwnsExperiment } from '../lib/utils/utils_account';\r\n\r\nimport { Answers } from './answers';\r\n\r\nMeteor.methods({\r\n\r\n    /**\r\n     * Send a verification email to the current user.\r\n     *\r\n     * @returns {any}\r\n     *          return value of {@link Accounts#sendVerificationEmail}\r\n     */\r\n    'user.sendVerificationMail'() {\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(500, 'Invalid User');\r\n        }\r\n\r\n        return Accounts.sendVerificationEmail(userId);\r\n    },\r\n\r\n    'user.surveys.reset'() {\r\n        const { userId } = this;\r\n        if (!userId) {\r\n            throw new Meteor.Error(500, 'Invalid User');\r\n        }\r\n\r\n        // return Answers.remove({ userId }, { multi: true });\r\n        return Answers.remove({ userId });\r\n    },\r\n\r\n    'user.remove'(userId) {\r\n        check(userId, String);\r\n\r\n        const user = Meteor.users.findOne({ _id: userId }, { fields: { participatesIn: 1 } });\r\n\r\n        if (!user) {\r\n            throw new Meteor.Error(400, 'User does not exist')\r\n        }\r\n\r\n        if (!userIsInRole('admin') || !userOwnsExperiment(user.participatesIn)) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        return Meteor.users.remove({ _id: userId });\r\n    },\r\n\r\n    /*\r\n     * Add notification id\r\n     *\r\n     */\r\n    'user.savePushToken'(userId, pushToken) {\r\n\r\n        const user = Meteor.users.findOne(userId);\r\n\r\n        if (!user) {\r\n            throw new Meteor.Error(400, 'User does not exist')\r\n        }\r\n\r\n        return Meteor.users.update(user, { $set: { pushNotificationToken: pushToken } });\r\n    },\r\n\r\n});\r\n","import { Mongo } from 'meteor/mongo';\r\nimport { check, Match } from 'meteor/check';\r\nimport { Meteor } from 'meteor/meteor';\r\nimport { NewsArticles } from './articles';\r\nimport { removeWeirdMinusSignsInFrontOfString } from '../lib/utils/utils_string';\r\n\r\nexport const VideoAnalytics = new Mongo.Collection('videoAnalytics');\r\n\r\nMeteor.methods({\r\n\r\n    'videoAnalytics.insert'(articleId, action, videoTimestamp) {\r\n        check(articleId, String);\r\n        check(action, String);\r\n        check(videoTimestamp, Number);\r\n\r\n        const userId = Meteor.userId();\r\n        if (!userId) {\r\n            throw new Meteor.Error(403, 'Permission Denied');\r\n        }\r\n\r\n        // due to a bug in react-native-meteor and/or minimongo-cache\r\n        // some ids include a minus sign in front of them and we need to strip that first\r\n        // see https://github.com/inProgress-team/react-native-meteor/issues/185 for details\r\n        const cleanArticleId = removeWeirdMinusSignsInFrontOfString(articleId);\r\n        const article = NewsArticles.findOne(cleanArticleId);\r\n\r\n        if (!article) {\r\n            throw new Meteor.Error(404, 'Article not found');\r\n        }\r\n\r\n        return VideoAnalytics.insert({\r\n            articleId: cleanArticleId,\r\n            userId,\r\n            action,\r\n            videoTimestamp,\r\n            createdAt: new Date(),\r\n        });\r\n\r\n    },\r\n\r\n});\r\n","import { Meteor } from 'meteor/meteor';\r\nimport { isEmailVerified, userIsInRole } from '../../../lib/utils/utils_account';\r\n\r\nconst DEFAULT_USER_ROLES = ['user'];\r\nconst ADMIN_ROLE = 'admin';\r\nconst BLOCKED_ROLE = 'blocked';\r\nconst DEACTIVATED_ROLE = 'deactivated';\r\nconst LOCKED_ROLES = [ BLOCKED_ROLE, DEACTIVATED_ROLE ];\r\n\r\nconst EMAILTEMPLATES_SITENAME = 'ddis';\r\nconst EMAILTEMPLATES_FROM = 'ddis <ddis-news-app@ifi.uzh.ch>';\r\n\r\nconst IS_EMAIL_VERIFICATION_REQUIRED = false;\r\nconst IS_REGISTRATION_OPEN = true;\r\nconst IS_SURVEY_REQUIRED = true;\r\n\r\n// enable verification emails\r\nAccounts.config({\r\n    sendVerificationEmail: IS_EMAIL_VERIFICATION_REQUIRED,\r\n    forbidClientAccountCreation: !IS_REGISTRATION_OPEN,\r\n});\r\n\r\n/**\r\n * Update the user's lastLogin field whenever he/she signs in.\r\n *\r\n * Notice: Accounts.onLogin appears to also be called to refresh login tokens.\r\n *         That is, whenever the user refreshes the browser tab. Hence, this metric\r\n *         might not reflect the actual timestamp at which a given user has signed in\r\n *         (meaning the action of initally signing in).\r\n *         In return, for users that hardly ever sign out and hence hardly ever sign in,\r\n *         it (more) correctly reflects the last time the user has used the application.\r\n *\r\n * Notice: onLogin gets called only iff the login attempt was successful.\r\n *         check {@link Accounts.validateLoginAttempt} to see when this is the case.\r\n *\r\n * @param info\r\n *          login object, contains the user document\r\n */\r\nAccounts.onLogin((info) => {\r\n    Meteor.call('signins.add');\r\n    Meteor.users.update({ _id: info.user._id }, { $set: { 'profile.lastLogin': new Date() } });\r\n});\r\n\r\n/**\r\n * Add default roles to new users.\r\n *\r\n * Notice: Accounts.onCreateUser gets called whenever a user is created.\r\n *         Meteor user collections do not by default store a role field,\r\n *         therefore we add it.\r\n *\r\n * @param options\r\n *          options for this user account\r\n * @param user\r\n *          user object that is being created\r\n *\r\n * @returns {*}\r\n */\r\nAccounts.onCreateUser((options, user) => {\r\n    const newUser = { ...user };\r\n    newUser.roles = DEFAULT_USER_ROLES;\r\n\r\n    // We still want the default hook's 'profile' behavior.\r\n    if (options.profile) {\r\n        newUser.profile = options.profile;\r\n    }\r\n\r\n    if (!newUser.profile) {\r\n        newUser.profile = {};\r\n    }\r\n\r\n    newUser.participatesIn = 'default-experiment';\r\n    newUser.userGroup = 'baseline';\r\n    newUser.score = [];\r\n    newUser.experiments = [];\r\n    newUser.notification = null;\r\n\r\n    // if there is no administrator in the system, make sure that\r\n    // the next user that registers is an administrator.\r\n    // this code exists only for convenience such that the first\r\n    // user that registers is always an administrator.\r\n    const isThereAtLeastOneAdmin = !!Meteor.users.findOne({ roles: ADMIN_ROLE });\r\n    const isNewUserAnAdmin = newUser.roles.indexOf(ADMIN_ROLE) !== -1;\r\n    if (!isThereAtLeastOneAdmin && !isNewUserAnAdmin) {\r\n        newUser.roles.push(ADMIN_ROLE);\r\n    }\r\n\r\n    return newUser;\r\n});\r\n\r\n\r\n/**\r\n * Validate a login attempt.\r\n * Check whether a user account that is being used for signing in is allowed to\r\n * be used. That is, check whether it is blocked and whether it's email address\r\n * was verified.\r\n *\r\n * @param info\r\n *          Login information. Contains user object\r\n *\r\n * @returns {boolean}\r\n *          Boolean value that represents whether the login attempt was successful\r\n */\r\nAccounts.validateLoginAttempt((info) => {\r\n    const { user } = info;\r\n\r\n    if (!user) {\r\n        throw new Meteor.Error(400, 'Invalid User');\r\n    }\r\n\r\n    // reject users with role \"blocked\" and throw an error\r\n    if (userIsInRole(LOCKED_ROLES, user)) {\r\n        throw new Meteor.Error(403, 'Your account is blocked.');\r\n    }\r\n\r\n    // reject user without a verified email address\r\n    if (IS_EMAIL_VERIFICATION_REQUIRED && !isEmailVerified(user)) {\r\n        throw new Meteor.Error(499, 'E-mail not verified.');\r\n    }\r\n\r\n    return true;\r\n});\r\n\r\n// define sender and site name for verification emails\r\nAccounts.emailTemplates.siteName = EMAILTEMPLATES_SITENAME;\r\nAccounts.emailTemplates.from = EMAILTEMPLATES_FROM;\r\n\r\n/**\r\n * Define the email template that is used for verification emails.\r\n * In this function we define the subject and the content.\r\n *\r\n * @type {{subject: (function()), text: (function(*, *))}}\r\n */\r\nAccounts.emailTemplates.verifyEmail = {\r\n    subject() {\r\n        return 'DDIS News - Verify your email address';\r\n    },\r\n};\r\n\r\nAccounts.emailTemplates.resetPassword = {\r\n    subject() {\r\n        return 'DDIS News - Reset your password';\r\n    },\r\n\r\n    text(user, url) {\r\n        return `Hey ${user}! Reset your password with following this link: ${url}`;\r\n    },\r\n};\r\n\r\nAccounts.urls.resetPassword = token => Meteor.absoluteUrl(`reset-password/${token}`);\r\nAccounts.urls.verifyEmail = token => Meteor.absoluteUrl(`verify-email/${token}`);\r\n","import './config_accounts';\r\n","import { Random } from 'meteor/random';\n\nconst EXPERIMENT = {\n    _id: 'default-experiment',\n    name: 'default experiment',\n    testingPhase: true,\n    dislikeSurvey: null,\n    likeSurvey: {\n        question: 'Wieso mÃ¶gen Sie den Artikel?',\n        answers: [\n            {\n                _id: Random.id(),\n                text: 'Ich stimme den Aussagen des Artikels zu.',\n                value: 0,\n            },\n            {\n                _id: Random.id(),\n                text: 'Ich mag den Schreibstil.',\n                value: 0,\n            },\n            {\n                _id: Random.id(),\n                text: 'Das Thema interessiert mich.',\n                value: 0,\n            },\n        ],\n    },\n    feedbackEmail: 'ddis-news-app@ifi.uzh.ch',\n    explanationTagsDef: {\n        '60feefd58bd1b5012ad6e689': {\n            _id: '60feefd58bd1b5012ad6e689',\n            textShort: 'Mmmmmmmmmmm',\n            textLong: 'Interests',\n            textColorLight: '#FFFFFF',\n            textColorDark: '#FFFFFF',\n            backgroundColorLight: '#44546A',\n            backgroundColorDark: '#44546A',\n            detailedExplanation: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut dignissim et enim a tempor. Etiam justo nunc, pellentesque ac placerat id, elementum vel nisl. Curabitur sollicitudin commodo ligula sed rutrum. Aliquam elementum malesuada velit, eget facilisis urna finibus eleifend.',\n        },\n    },\n    maxNrExplanationTags: 3,\n    maxCharacterExplanationTagShort: 5,\n    maxNrFurtherRecArticles: 3,\n    totalLikesDislikesEnabled: true,\n    previewTitleLineHeight: 2,\n};\nexport { EXPERIMENT };\n","import { NewsArticles } from '../../../api/articles';\nimport { Surveys } from '../../../api/surveys';\nimport { NEWS_ARTICLES } from './newsArticles';\nimport { SURVEYS } from './surveys';\nimport Experiments from '../../../api/experiments';\nimport { EXPERIMENT } from './experiments';\n\nconst numberOfNewsArticlesInDatabase = NewsArticles.find().count();\nif (numberOfNewsArticlesInDatabase === 0) {\n    NEWS_ARTICLES.forEach((n) => {\n        NewsArticles.insert(n);\n    });\n}\n\nconst numberOfSurveysInDatabase = Surveys.find().count();\nif (numberOfSurveysInDatabase === 0) {\n    SURVEYS.forEach((s) => {\n        Surveys.insert(s);\n    });\n}\n\nconst numberOfExperimentsInDatabase = Experiments.find().count();\nif (numberOfExperimentsInDatabase === 0) {\n    Experiments.insert(EXPERIMENT);\n}\n","/* eslint-disable max-len */\r\nexport const NEWS_ARTICLES = [\r\n    {\r\n        _id: '5bffcc4dd89cbc027d502b6b',\r\n        url: 'https://www.nzz.ch/wirtschaft/mobiliar-kooperiert-mit-chubb-ld.1440604',\r\n        flag: '',\r\n        primaryCategory: 'Wirtschaft',\r\n        subCategories: [\r\n            '',\r\n        ],\r\n        pageType: 'regular',\r\n        title: 'Mobiliar kooperiert mit Chubb',\r\n        lead: 'Die stark auf die Schweiz ausgerichtete Versicherung Mobiliar will auch in Zukunft Unternehmen mit Sitz in der Schweiz im Ausland begleiten. Das will sie neu zusammen mit dem internationalen Versicherungskonzern Chubb machen.',\r\n        author: 'Werner Enz',\r\n        datePublished: new Date('2018-11-29T10:53:55.408Z'),\r\n        dateUpdated: new Date('2018-11-29T10:53:55.408Z'),\r\n        dateScraped: new Date('2018-11-29T12:23:57.245Z'),\r\n        language: 'de-CH',\r\n        outlet: 'NZZ',\r\n        image: '',\r\n        body: [\r\n            {\r\n                type: 'text',\r\n                text: 'Die genossenschaftliche Mobiliar wird in den Sparten Sach- und Haftpflichtversicherungen im AuslandgeschÃ¤ft neu mit dem Industrieversicherer Chubb zusammenarbeiten. Bis anhin hatte man Schweizer Unternehmenskunden in Kooperation mit XL Catlin im Ausland begleitet. Es ist wohl zum Wechsel gekommen, weil XL Catlin inzwischen vom Axa-Konzern, einem scharfen Konkurrenten der Mobiliar in der Schweiz, Ã¼bernommen worden ist.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Chubb ist seit vielen Jahren in der Schweiz aktiv und beschÃ¤ftigt zurzeit 75 Mitarbeiter. Durch das Zusammengehen der Unternehmen Ace und Chubb ist der 31Â 000 Mitarbeiter beschÃ¤ftigende Konzern nunmehr zum grÃ¶ssten bÃ¶rsenkotierten Industrieversicherer aufgestiegen. Chubb wird von Standard & Poor&aposs mit dem AA-Rating benotet und wird an der BÃ¶rse mit rund 62 Mrd.Â $ bewertet. ',\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        _id: '5bffcc4dd89cbc027d502b6c',\r\n        url: 'https://www.nzz.ch/international/diese-laender-lehnen-den-uno-migrationspakt-ab-oder-zoegern-mit-der-zustimmung-ld.1438476',\r\n        flag: '',\r\n        primaryCategory: 'International',\r\n        subCategories: [\r\n            '',\r\n        ],\r\n        pageType: 'regular',\r\n        title: 'DeutschlandÂ debattiert Ã¼ber den Uno-MigrationspaktÂ â€“ andere LÃ¤nder haben ihn bereits abgelehnt',\r\n        lead: 'In verschiedenen Staaten wurde der Uno-Migrationspakt in den letzten Wochen zum Politikum. Bis jetzt verweigern neun LÃ¤nder die UnterstÃ¼tzung. In Deutschland debattiert heute der Bundestag. Verfolgen Sie die Debatte live (ab 12 Uhr 20).',\r\n        author: 'Fabian Urech, Samuel Misteli, Ivo Mijnssen',\r\n        datePublished: new Date('2018-11-29T10:52:21.002Z'),\r\n        dateUpdated: new Date('2018-11-29T10:57:42.217Z'),\r\n        dateScraped: new Date('2018-11-29T12:23:57.482Z'),\r\n        language: 'de-CH',\r\n        outlet: 'NZZ',\r\n        image: 'https://img.nzz.ch/C=W5580,H2929.5,X0,Y337.75/S=W1200M,H630M/O=75/C=AR1200x630/https://nzz-img.s3.amazonaws.com/2018/11/22/10e046f3-e172-4441-a96d-bfbd654b8282.jpeg',\r\n        body: [\r\n            {\r\n                type: 'text',\r\n                text: 'Der Migrationspakt (Â«Migration CompactÂ») soll an einem Gipfeltreffen vom 10. und 11.Â Dezember in Marokko besiegelt werden. Die Uno will damit zum ersten Mal GrundsÃ¤tze fÃ¼r den Umgang mit Migranten festlegen. Im Juli hatten sich die Ã¼ber 190 Staaten, die an der Erarbeitung beteiligt waren, nach 18 Monaten auf die Endfassung des Dokuments geeinigt. Mit dem Pakt soll insbesondere die illegale Einwanderung verhindert und die legale Einwanderung besser gesteuert werden. Die Unterzeichner bekennen sich dazu, dafÃ¼r eine Reihe von Massnahmen anzuwenden, die von der Verbesserung der Betreuung in Herkunfts- und ZiellÃ¤ndern Ã¼ber Informationskampagnen entlang der Migrationsrouten bis zu transparenten Verfahren an den Grenzen reichen.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Der Umgang mit FlÃ¼chtlingen steht im Zentrum eines zweiten Abkommens, des FlÃ¼chtlingspakts, der an dem Gipfel ebenfalls verabschiedet werden soll. Die beiden Abkommen sind nicht rechtsverbindlich. Dennoch haben sie in verschiedenen LÃ¤ndern eine kontroverse Diskussion ausgelÃ¶st.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Deutscher Bundestag debattiert',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'In Deutschland wird der Migrationspakt seit Wochen kontrovers diskutiert. Ãœber den Antrag soll nun am Donnerstag im Bundestag beraten und abgestimmt werden. Verfolgen Sie die Debatte hier live (ab 12 Uhr 20): ',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Die CDU will den Parlamentsbeschluss als Grundlage fÃ¼r einen Leitantrag fÃ¼r ihren Bundesparteitag im Dezember nehmen. Die Unionsfraktion im Bundestag hat sich am Dienstag fast einmÃ¼tig hinter den geplanten Uno-Migrationspakt gestellt. ',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Folgenden LÃ¤nder (in chronologischer Abfolge) haben bereits angekÃ¼ndigt, den Migrationspakt in Marokko nicht zu verabschieden. ',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'USA',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Die USA gaben bereits im Dezember 2017 bekannt, sich nicht am Migrationspakt zu beteiligen. Als einziges der 193 Uno-Mitglieder nahmen sie gar nicht erst an den Verhandlungen teil. Die Verweigerungshaltung der USA kam angesichts der harten Linie der Regierung Trump in der Migrationspolitik nicht Ã¼berraschend.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Ungarn',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Das nationalkonservativ regierte Ungarn verliess die Verhandlungen zum Migrationspakt kurz vor deren Abschluss im Juli. Aussenminister Peter Szijjarto begrÃ¼ndete den Schritt mit harschen Worten: Das Papier widerspreche Â«jeglicher VernunftÂ» und sei Â«extremistisch, voreingenommen, ein FÃ¶rderer von MigrationÂ». Szijjarto fÃ¼rchtet zudem rechtliche Verpflichtungen. Er Ã¤usserte Zweifel daran, dass der Migrationspakt rechtlich nicht bindend sei â€“ obwohl dies im Text des Abkommens explizit festgehalten ist. Die ungarische Regierung wehrt sich insbesondere gegen die im Vertrag vorgeschlagenen internationalen Standards fÃ¼r die Behandlung von Migranten an den Landesgrenzen; diese seien eine rein nationale Angelegenheit, erklÃ¤rte Szijjarto im November. Ungarn steht seit Jahren international in der Kritik, weil es Asylbewerber an der Grenze zu Serbien standardmÃ¤ssig Ã¼ber Monate interniert. Der Migrationspakt sieht Internierung hingegen nur in absoluten AusnahmefÃ¤llen vor. ',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Ã–sterreich',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Die Regierung in Wien trat mit ihrem RÃ¼ckzug eine breite europÃ¤ische Debatte Ã¼ber den Migrationspakt los. Nachdem Ã¶sterreichische Diplomaten massgeblich an den Verhandlungen beteiligt gewesen waren, beschloss die Regierung aus Ã–VP und FPÃ– Ende Oktober, das Dokument nicht zu unterstÃ¼tzen und im Dezember keinen Vertreter nach Marrakesch zu entsenden. Mitverantwortlich fÃ¼r diese Entscheidung war eine heftige Kampagne identitÃ¤rer Kreise, deren Argumente sich teilweise in der offiziellen Regierungsposition wiederfinden. ',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'In der ErklÃ¤rung der Regierung hiess es, die Republik entscheide souverÃ¤n Ã¼ber die Zulassung von Zuwanderung und kenne kein Â«Menschenrecht auf MigrationÂ». Die Schaffung der vÃ¶lkerrechtlichen Kategorie des Â«MigrantenÂ» sei zudem zurÃ¼ckzuweisen. Im Interview mit der NZZ begrÃ¼ndet Bundeskanzler Sebastian Kurz die Ablehnung damit, dass der Migrationsbegriff im Pakt zu schwammig sei. Gleichzeitig betonte er: Â«Trotz unserer Enthaltung erachten wir aber eine multilaterale Zusammenarbeit in Migrationsfragen als sinnvoll.Â» BundesprÃ¤sident Alexander Van der Bellen verlieh nach dem RÃ¼ckzug in einer seltenen innenpolitischen Intervention seiner Sorge um das Ansehen und die GlaubwÃ¼rdigkeit Ã–sterreichs Ausdruck.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Bulgarien',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Bulgariens Regierung um den MinisterprÃ¤sidenten Bojko Borisow begrÃ¼ndet ihren RÃ¼ckzug aus dem Migrationspakt am 12.Â November mit dem Hinweis auf nationale Interessen. Das Abkommen wÃ¼rde ebendiese gefÃ¤hrden, erklÃ¤rte der Fraktionschef der nationalkonservativen Regierungspartei Gerb, Zwetan Zwetanow. Bulgarien hat seine Migrationspolitik verschÃ¤rft, seit zwischen 2013 und 2016 im Zuge der FlÃ¼chtlingskrise mehrere Zehntausend Migranten von der TÃ¼rkei her ins Land kamen. Sofia reagierte mit dem Bau eines Grenzzauns. Die meisten Migranten nutzten Bulgarien jedoch nur als Zwischenstation auf der Weiterreise in Richtung Mitteleuropa. Um wieder an die Regierung zu kommen, bildete Borisow 2017 zudem eine Koalition mit der rechtsextremen Parteiengruppe Vereinigte Patrioten. Diese profiliert sich stark Ã¼ber die Ablehnung der Migration.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Tschechien',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Das tschechische Regierungskabinett beschloss Mitte November, den Migrationspakt nicht zu unterzeichnen. Die Minderheitsregierung aus populistischer ANO und sozialdemokratischer CSSD beklagt wie andere LÃ¤nder auch, dass das Papier nicht genÃ¼gend zwischen Â«legalerÂ» und Â«illegalerÂ» Migration unterscheide. MinisterprÃ¤sident und ANO-GrÃ¼nder Andrej Babis hatte schon frÃ¼her erklÃ¤rt, der Migrationspakt sei unklar formuliert und kÃ¶nnte missbraucht werden. Das Papier gefÃ¤hrde gar die Sicherheit und nationale SouverÃ¤nitÃ¤t Tschechiens. Babis hatte die Wahl Anfang Jahr massgeblich mit dem Versprechen gewonnen, die illegale Migration zu bekÃ¤mpfen. Bereits die VorgÃ¤ngerregierung hatte eine EU-weite Verteilung von FlÃ¼chtlingen abgelehnt. Sie wissen dabei auch eine Mehrheit der BevÃ¶lkerung hinter sich. ',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Polen',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Polen erklÃ¤rte am 20.Â November, den Migrationspakt nicht mitzutragen. Die nationalkonservative Regierung in Warschau begrÃ¼ndet ihren Entscheid mit souverÃ¤nitÃ¤tspolitischen Bedenken. Der Pakt garantiere nicht ausreichend das Recht von Staaten, darÃ¼ber zu entscheiden, wer auf ihrem Territorium aufgenommen werde. Â«Wir sind der Ansicht, dass unsere souverÃ¤nen Prinzipien absolute PrioritÃ¤t habenÂ», hatte Polens MinisterprÃ¤sident Mateusz Morawiecki Anfang November gesagt. Kritisch sieht die polnische Regierung auch die im Pakt gemachte Unterscheidung zwischen legaler und illegaler Migration. Die verwendeten Begrifflichkeiten kÃ¶nnten zu Schwierigkeiten bei der Umsetzung des Abkommens fÃ¼hren, heisst es aus Warschau. ',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Israel',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Â«Wir fÃ¼hlen uns dem Schutz unserer Grenzen vor illegalen Einwanderern verpflichtetÂ», begrÃ¼ndete MinisterprÃ¤sident Benjamin Netanyahu am 20.Â November den Entscheid, sich aus dem Migrationspakt zurÃ¼ckzuziehen. Israel verfolgt eine restriktive FlÃ¼chtlingspolitik und versucht seit mehreren Monaten, Zehntausende von afrikanischen Migranten abzuschieben.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Australien',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Der Migrationspakt sei nicht im Interesse Australiens und stehe im Widerspruch zur Politik seiner Regierung, sagte Premierminister Scott Morrison am 21.Â November. Der Pakt kÃ¶nne zur Â«illegalen EinwanderungÂ» in das Land ermutigen. Aussenminister Peter Dutton hatte bereits im Sommer seine Ablehnung kundgetan. Die Regierung Morrisons steht fÃ¼r eine harte Einwanderungs- und Asylpolitik. Australien fÃ¤ngt FlÃ¼chtlinge, die das Land auf Booten erreichen wollen, ab und hÃ¤lt sie in Lagern auf Pazifikinseln fest, was immer wieder zu scharfer Kritik fÃ¼hrt.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Slowakei',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Nach einem heftigen Streit innerhalb der Regierung hat die Slowakei am 26.Â November erklÃ¤rt, das Land werde den Migrationspakt nicht unterschreiben. Â«Die Slowakei ist nicht einverstanden damit, dass es keinen Unterschied zwischen legaler und illegaler Migration gibt, und wir betrachten Wirtschaftsmigration als illegal, schÃ¤dlich und als ein SicherheitsrisikoÂ», erklÃ¤rte der Regierungschef Peter Pellegrini. Zuvor hatte der Aussenminister mit seinem RÃ¼cktritt gedroht, sollte die Slowakei aus dem Pakt aussteigen. Bisher hat er die Drohung allerdings nicht wahr gemacht. Die Regierung steht seit der Ermordung eines Journalisten, der Ã¼ber die Mafia-Kontakte fÃ¼hrender Politiker berichtete, stark unter Druck. Umso dringlicher warnt sie deshalb vor den angeblichen Gefahren der illegalen Migration im Land. Zwischen 2004 und 2017 fiel die Zahl der jÃ¤hrlichen illegalen GrenzÃ¼bertritte in die Slowakei von knapp 10Â 946 auf 2706.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Kontroverse Debatten in anderen LÃ¤ndern',\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        _id: '5bffcc4dd89cbc027d502b6d',\r\n        url: 'https://www.nzz.ch/international/die-gelbwesten-ernennen-sprecher-anlauf-zum-dialog-in-frankreich-ld.1440606',\r\n        flag: '',\r\n        primaryCategory: 'International',\r\n        subCategories: [\r\n            '',\r\n        ],\r\n        pageType: 'regular',\r\n        title: 'Die Gelbwesten ernennen Sprecher â€“ Anlauf zum Dialog in Frankreich',\r\n        lead: '',\r\n        author: 'Andres Wysling',\r\n        datePublished: new Date('2018-11-29T10:34:27.334Z'),\r\n        dateUpdated: new Date('2018-11-29T11:22:56.915Z'),\r\n        dateScraped: new Date('2018-11-29T12:23:57.715Z'),\r\n        language: 'de-CH',\r\n        outlet: 'NZZ',\r\n        image: '',\r\n        body: [\r\n            {\r\n                type: 'text',\r\n                text: 'Die Â«gilets jaunesÂ» in Frankreich haben acht Sprecher ernannt, die die Protestbewegung in GesprÃ¤chen mit der Regierung vertreten sollen. Das wurde schon frÃ¼her bekannt und am Donnerstag frÃ¼h definitiv mitgeteilt. Es handelt sich offenbar um Personen, die bei der Organisation der Strassenblockaden und Demonstrationen eine Rolle spielten. Mehrere Dutzend Gelbwesten aus dem ganzen Land hatten sich in den letzten Tagen und Wochen in Videokonferenzen Ã¼ber ihr Vorgehen abgesprochen, aus diesen Konsultationen ist nun die Sprechergruppe hervorgegangen. Das erklÃ¤rten Exponenten der Gelbwesten gegenÃ¼ber franzÃ¶sischen Medien.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Eine besonders sichtbare Rolle in der Sprechergruppe spielt der Lastwagenchauffeur Eric Drouet. Auf Facebook stellt er sich der Ã–ffentlichkeit vor, spricht Ã¼ber seine An- und Absichten. Die weiteren Sprecher heissen Priscillia Ludosky, Maxime Nicolle, Mathieu Blavier, Jason Herbert, Thomas Miralles, Marine Charrette-Labadie und Julien Terrier. Bei der Auswahl der Sprecher wurde darauf geachtet, dass diese keine Parteibindungen haben. Man will sich weder von linken noch von rechten Protestparteien vereinnahmen lassen.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Am Donnerstag und am Freitag will die Regierung in Paris Konsultationen abhalten, etwa mit einem Beratungsgremium fÃ¼r die Energiewende. FÃ¼r Freitag ist ein Treffen von Premierminister Edouard Philippe mit den Sprechern der Gelbwesten vorgesehen. Diese unterstreichen aber, dass sie wohl im Namen der Protestbewegung sprÃ¤chen, keinesfalls aber in deren Namen entscheiden kÃ¶nnten. Alle Entscheidungen Ã¼ber das weitere Vorgehen mÃ¼ssten von der Gesamtheit der Â«gilets jaunesÂ» ausgehen.',\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        _id: '5bffcc4dd89cbc027d502b6e',\r\n        url: 'https://www.nzz.ch/wissenschaft/wissenschafter-verurteilen-das-vorgehen-he-jiankuis-aufs-schaerfste-ld.1440566',\r\n        flag: '',\r\n        primaryCategory: 'Wissenschaft',\r\n        subCategories: [\r\n            '',\r\n        ],\r\n        pageType: 'regular',\r\n        title: 'Offizielle Stellungnahme: Wissenschafter verurteilen das Vorgehen He Jiankuis aufs SchÃ¤rfste',\r\n        lead: 'Die Organisatoren des Gipfeltreffens zur GenverÃ¤nderung am Menschen, das gerade in Hongkong zu seinem Abschluss kommt, haben offiziell zu den Behauptungen He Jiankuis Stellung genommen. Sie verurteilen sein Vorgehen auf allen Ebenen.',\r\n        author: 'Stephanie Kusma',\r\n        datePublished: new Date('2018-11-29T10:31:00.000Z'),\r\n        dateUpdated: new Date('2018-11-29T11:18:55.821Z'),\r\n        dateScraped: new Date('2018-11-29T12:23:57.930Z'),\r\n        language: 'de-CH',\r\n        outlet: 'NZZ',\r\n        image: 'https://img.nzz.ch/C=W4951,H2599.275,X0,Y503.8625/S=W1200M,H630M/O=75/C=AR1200x630/https://nzz-img.s3.amazonaws.com/2018/11/29/8c83ab9e-aa26-4b8b-afeb-14650858f992.jpeg',\r\n        body: [\r\n            {\r\n                type: 'text',\r\n                text: 'Â«Unerwartet und tief verstÃ¶rendÂ», nennen die Organisatoren des Gipfeltreffens zum Editieren des menschlichen Genoms, das gerade in Hongkong zu Ende geht, die Behauptungen des chinesischen Forschers He Jiankui. Sie reagierten am Donnerstag mit einer offiziellen Stellungnahme auf die Angaben Hes, nach denen im Rahmen seiner Experimente zwei Babys mit verÃ¤ndertem Genom zur Welt gekommen sind und eine weitere Frau mit einem mÃ¶glicherweise genverÃ¤nderten Kind schwanger geworden ist. He hatte seine Forschung am Mittwoch an dem Treffen vorgestellt.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Ethisch und wissenschaftlich inadÃ¤quat',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'In ihrer Stellungnahme fordern die Organisatoren zudem eine unabhÃ¤ngige BestÃ¤tigung von Hes Behauptungen und eine Untersuchung der beiden Babys. Das Vorgehen des Forschers verurteilen sie vollkommen, und zwar auf allen Ebenen, von Fragen der Ethik bis zu solchen der Wissenschaft: Es Â«war verantwortungslos und nicht im Einklang mit internationalen Normen. Zu den MÃ¤ngeln des Vorgehens gehÃ¶ren eine inadÃ¤quate medizinische Indikation, ein schlecht gestaltetes Studienprotokoll, die NichterfÃ¼llung ethischer Standards, was den Schutz von Versuchsteilnehmern angeht, und fehlende Transparenz in der Entwicklung, der PrÃ¼fung und der DurchfÃ¼hrung der klinischen Prozeduren.Â»',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Sie betonen aber auch den Unterschied zwischen einer Gentherapie an KÃ¶rperzellen â€“ deren schnellen Fortschritt sie ausdrÃ¼cklich begrÃ¼ssen â€“ und der Keimbahntherapie, an der sich He versucht haben will. Letztgenannte macht Ã„nderungen im Genom zu einem erblichen Eingriff: Alle Auswirkungen der Intervention â€“ auch mÃ¶glicherweise ungewollte â€“ werden an die Nachkommen weitergegeben. Man wisse zum jetzigen Zeitpunkt noch zu wenig Ã¼ber die Risiken solcher Eingriffe, um mit klinischen Experimenten zu beginnen, schreiben die Organisatoren. Das sei unverantwortlich.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Standards und Regulierungen vorantreiben',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Es sei nun aber an der Zeit, Ã¼ber die Voraussetzungen nachzudenken, die erfÃ¼llt sein mÃ¼ssten, um zur klinischen Forschung in diesem Bereich Ã¼bergehen zu kÃ¶nnen, und darÃ¼ber, welche Kriterien solche Versuche selbst erfÃ¼llen mÃ¼ssten. Sie fordern unter anderem durchsetzbare Standards zum professionellen Vorgehen, klare Kriterien, was es an vorklinischen Belegen braucht, um mit den Versuchen fortfahren zu kÃ¶nnen, eine strenge, unabhÃ¤ngige Aufsicht Ã¼ber die Experimente und eine zwingende medizinische Notwendigkeit des Eingriffs sowie Achtsamkeit, was Auswirkungen auf die Gesellschaft angeht.',\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        _id: '5bffcc4ed89cbc027d502b6f',\r\n        url: 'https://www.nzz.ch/schweiz/verzweifelte-jagd-nach-nazi-raubkunst-in-der-schweiz-ld.1436826',\r\n        flag: '',\r\n        primaryCategory: 'Schweiz',\r\n        subCategories: [\r\n            '',\r\n        ],\r\n        pageType: 'regular',\r\n        title: 'Verzweifelte Jagd nach Nazi-Raubkunst in der Schweiz',\r\n        lead: 'Das Bild Â«Portrait de Mademoiselle Gabrielle DiotÂ» von Edgar Degas befindet sich mutmasslich bei einem anonymen Schweizer Sammler. Die Nazis raubten es 1940 aus Paris. New Yorker Erben des damaligen Besitzers verlangen es vehement zurÃ¼ck.',\r\n        author: 'JÃ¶rg Krummenacher',\r\n        datePublished: new Date('2018-11-15T17:47:27.531Z'),\r\n        dateUpdated: new Date('2018-11-19T06:22:17.268Z'),\r\n        dateScraped: new Date('2018-11-29T12:23:58.345Z'),\r\n        language: 'de-CH',\r\n        outlet: 'NZZ',\r\n        image: 'https://img.nzz.ch/C=W1075,H564.375,X0,Y84.3125/S=W1200M,H630M/O=75/C=AR1200x630/https://nzz-img.s3.amazonaws.com/2018/11/15/762e3084-d992-4aff-8ebb-f43eca71afc2.png',\r\n        body: [\r\n            {\r\n                type: 'text',\r\n                text: 'Herr Hans weiss nicht mehr, wo ihm der Kopf steht. Mathias Hans, so sein voller Name, ist Galerist und KunsthÃ¤ndler in Hamburg. 1974 kaufte er einer in Ascona wohnhaften Schweizer Familie das Â«Portrait de Mademoiselle Gabrielle DiotÂ» ab und verkaufte es fÃ¼r 3,5 Millionen Franken an einen ebenfalls in der Schweiz lebenden Sammler weiter. Seither sieht sich Herr Hans immer wieder mit RestitutionsansprÃ¼chen konfrontiert. In den vergangenen Tagen haben sich diese zu einem Sturm ausgewachsen: In den USA, in Grossbritannien, Frankreich und Deutschland haben mehrere Zeitungen von der Â«New York TimesÂ» Ã¼ber den Â«FigaroÂ» bis zur Â«ZeitÂ» Ã¼ber den Fall berichtet. Sie alle wollen wissen: Wo ist das Bild? Und: Welchem Schweizer Sammler gehÃ¶rt es? Doch Herr Hans will partout nichts preisgeben. Er habe dem Sammler absolute Diskretion zugesichert.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: '1940 in Paris konfisziert',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Der berÃ¼hmte franzÃ¶sische Maler und Bildhauer Edgar Degas hatte das PortrÃ¤t 1890 geschaffen. 1940, als die Nationalsozialisten Teile Frankreichs okkupierten, befand es sich im Besitz des jÃ¼dischen KunsthÃ¤ndlers Paul Rosenberg. Er hatte das Bild 1933 erworben und es direkt Ã¼ber seinen Schreibtisch in der Galerie an der Rue La BoÃ©tie in Paris gehÃ¤ngt. Wie viele andere Kunstwerke konfiszierten es die deutschen Besatzer auf Befehl des deutschen Botschafters im besetzten Frankreich, Heinrich Otto Abetz. Die Familie Rosenberg musste nach New York fliehen. ',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Bis anhin konnten die Nachkommen Paul Rosenbergs viele der von den Nazis geraubten Kunstwerke restituieren. Darunter ist mit dem Matisse-Bild Â«Sitzende FrauÂ» auch eines aus der Sammlung Gurlitt, die abgesehen davon ans Kunstmuseum Bern vermacht wurde. 60 Werke blieben bis heute verschwunden â€“ so auch Degasâ€™ Â«Portrait de Mademoiselle Gabrielle DiotÂ». ',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Keine Wiedergutmachung',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Erstmals tauchte das GemÃ¤lde 1987 auf. Elaine Rosenberg, eine Schwiegertochter Paul Rosenbergs, entdeckte, dass Mathias Hans den Degas per Inserat in einem internationalen Kunstmagazin zum Verkauf ausschrieb, samt Bild und der Herkunftsbezeichnung Paul Rosenberg. Der Schweizer Kunstsammler, der das Bild 13 Jahre zuvor gekauft hatte, wollte es nun wieder auf den Markt bringen. Elaine Rosenberg wandte sich darauf an Mathias Hans, der als Mittelsmann fungierte. Doch der Sammler ging nicht auf sie ein. Â«Er identifiziert sich nicht mit der deutschen Geschichte und sah keinen Grund fÃ¼r eine persÃ¶nliche WiedergutmachungÂ», teilt der Galerist Hans dazu mit. Das Bild blieb beim Sammler. ',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Letztmals gesehen wurde es 2003 in der Schweiz. Laut Mathias Hans befand es sich damals in einem Zollfreilager, das mÃ¼sse in Basel oder ZÃ¼rich gewesen sein, fÃ¼hrt er gegenÃ¼ber der NZZ aus. Er habe aber keine Ahnung, wo das Bild heute sei. Er selbst habe es ohnehin nie im Original in der Hand gehabt. Â«Es war auch nie im Original in meiner Galerie, nur als gerahmte Fotokopie.Â»',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Damals wurde mehrfach versucht, das Bild doch noch zu verkaufen â€“ vergeblich. Dies erzÃ¤hlt Christopher Marinello, der CEO von Art Recovery International. Das Unternehmen mit Sitz in London ist die einzige Organisation ihrer Art, die sich darauf spezialisiert hat, gestohlene Kunstwerke und Raubkunst wiederzufinden und an ihre rechtmÃ¤ssigen Besitzer zu Ã¼bergeben. 2016 wurde Marinellos Firma von den Erben Rosenbergs beauftragt, den Fall Degas zu einem guten Ende zu fÃ¼hren.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Gegenseitige VorwÃ¼rfe',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Davon ist man weit entfernt. Zuerst kamen zwar mehrere Treffen mit Mathias Hans zustande. WÃ¤hrend der anonyme Sammler aber einen Tausch oder einen Kaufpreis von 3 Millionen Franken ins Spiel brachte, verlangte die Familie Rosenberg die RÃ¼ckgabe des GemÃ¤ldes ohne jegliche finanzielle Leistung. Auch die Aufforderung an die deutsche Regierung, zu einer gÃ¼tlichen LÃ¶sung beizutragen, fruchtete nicht. Inzwischen haben sich die beiden Seiten Ã¼berworfen und decken sich gegenseitig mit VorwÃ¼rfen ein: Fakten wÃ¼rden wissentlich verdreht, falsche Informationen verbreitet. ',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Strittig ist insbesondere, ob der HÃ¤ndler Hans und der Sammler 1974 wussten, dass es sich beim Bild um Raubgut handelte. Christopher Marinello ist davon Ã¼berzeugt, Mathias Hans streitet es ab. Es sei schlicht absurd, so Marinello, dass Hans damals das Bild mit der Provenienz Â«Nazi occupied Paris, 1942Â» erstanden habe und dennoch daran festhalte, nichts vom Kunstraub gewusst zu haben.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Wirklich ein Schweizer?',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Noch immer fehlt zudem jeglicher Hinweis, wer der geheimnisvolle Sammler ist. Nach den wenigen Angaben von Mathias Hans ist es ein Ã¤lterer Herr, der 1974 in der Schweiz, aber auch in Deutschland und in den USA seinen Wohnsitz gehabt habe. Wo er heute genau wohne, sei ihm nicht bekannt. Marinello zweifelt inzwischen gar daran, dass es sich um einen Schweizer Sammler handelt. Â«Wir haben weder eine Dokumentation noch sonstige Belege gesehenÂ», sagt er. Sollte es sich aber tatsÃ¤chlich um einen Schweizer Sammler handeln, fordert ihn Marinello auf, sich Ã¼ber einen Anwalt zu melden. Dabei kÃ¶nne er durchaus anonym bleiben.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Das Degas-PortrÃ¤t ist zwar viele Millionen wert, aber im offiziellen Kunstmarkt ist es nicht mehr zu verkaufen, zumal es sich auf der Liste der von den Nazis geraubten KulturgÃ¼ter befindet. Laut dem Schweizer Juristen und Raubkunstexperten Andrea RaschÃ¨r steht der Fall exemplarisch fÃ¼r ein unverkÃ¤ufliches Bild.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'BÃ¶sglÃ¤ubiger Erwerb?',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Sollte das GemÃ¤lde tatsÃ¤chlich einem Schweizer Sammler gehÃ¶ren, so wÃ¤re die Rechtslage bei einer RÃ¼ckforderung vertrackt. Die Washingtoner ErklÃ¤rung von 1998, die von der Schweiz mit ausgearbeitet worden ist, sieht fÃ¼r Restitutionsforderungen das Erreichen gerechter und fairer LÃ¶sungen zwischen den Vorkriegs-EigentÃ¼mern oder deren Erben und den heutigen Besitzern vor. Doch die Richtlinien sind nicht bindend und gelten ohnehin nur fÃ¼r Ã¶ffentliche Institutionen, nicht aber fÃ¼r private Sammler. Bei einer Abwicklung des Kaufs in der Schweiz wÃ¤re das hiesige Zivilgesetzbuch anwendbar, das zwischen gut- und bÃ¶sglÃ¤ubigem Erwerb unterscheidet. Dann kÃ¶nnte laut Andrea RaschÃ¨r bereits Unvorsichtigkeit beim Kauf von Raubkunst dazu fÃ¼hren, dass RestitutionsansprÃ¼che vor Gericht geschÃ¼tzt werden kÃ¶nnten.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Im Fall des Degas-PortrÃ¤ts liegt es also nahe, dass sowohl der KunsthÃ¤ndler Mathias Hans wie auch der anonyme KÃ¤ufer zumindest hÃ¤tten vermuten kÃ¶nnen, dass es sich um Nazi-Raubkunst handelt. Â«Aufgrund der Prozesse gegen Emil BÃ¼hrle, der ebenfalls Raubkunst aus der Sammlung Rosenberg erworben hatte, wussten das Sammlerfamilien in der Schweiz damalsÂ», sagt RaschÃ¨r: Â«Ein KÃ¤ufer hÃ¤tte die Provenienz Ã¼berprÃ¼fen mÃ¼ssen.Â»',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Herr Hans zeigt sich heute gegenÃ¼ber der NZZ genervt und betroffen ob der Anfragen und VorwÃ¼rfe, die ihn zu Ã¼berrollen scheinen. Er sei, bekrÃ¤ftigt er, Â«ein Mensch, der moralische Prinzipien vertrittÂ». Deshalb werde er auch sein Ehrenwort gegenÃ¼ber dem Sammler nicht brechen â€“ auch wenn sich dieser inzwischen von ihm distanziert habe, Â«da er meine Vermittlungsversuche bereits als ihm zu wenig zugetan empfandÂ».',\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        _id: '5bffcc4ed89cbc027d502b70',\r\n        url: 'https://www.nzz.ch/wirtschaft/patriotismus-macht-die-smartphones-teurer-ein-handelsstreit-ist-gar-nicht-so-einfach-ld.1439845',\r\n        flag: '',\r\n        primaryCategory: 'Wirtschaft',\r\n        subCategories: [\r\n            '',\r\n        ],\r\n        pageType: 'reportage',\r\n        title: 'Â«Trump-PhoneÂ»: Was Smartphones Â«made in the USAÂ» kosten wÃ¼rden',\r\n        lead: 'Der von Donald Trump angefachte Handelsstreit soll dazu fÃ¼hren, dass wieder mehr Industrieprodukte in den USA hergestellt werden. Doch was wÃ¼rde zum Beispiel ein iPhone von Apple kosten, das nur in den Vereinigten Staaten gefertigt worden wÃ¤re?',\r\n        author: 'Haluka Maier-Borst, Anja Lemcke, Gerald Hosp',\r\n        datePublished: new Date('2018-11-29T05:45:00.000Z'),\r\n        dateUpdated: new Date('2018-11-29T09:50:38.773Z'),\r\n        dateScraped: new Date('2018-11-29T12:23:58.550Z'),\r\n        language: 'de-CH',\r\n        outlet: 'NZZ',\r\n        image: 'https://img.nzz.ch/C=W2240,H1176,X0,Y42/S=W1200M,H630M/O=75/C=AR1200x630/https://nzz-img.s3.amazonaws.com/2018/11/28/169e7b36-b5df-4b00-be74-a8222b4a85bc.png',\r\n        body: [\r\n            {\r\n                type: 'text',\r\n                text: 'Â«Design von Apple in Kalifornien, gefertigt in China.Â» Dieser Hinweis steht millionenfach auf den GehÃ¤usen der iPhones des US-Unternehmens Apple und ist ein Sinnbild dafÃ¼r, dass China Ã¼ber die Jahrzehnte zur Werkbank der Welt aufgestiegen ist. Einer, dem dies schon seit lÃ¤ngerem sauer aufstÃ¶sst, ist der amerikanische PrÃ¤sident Donald Trump.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Bereits in seinem frÃ¼heren Leben als Immobilientycoon hatte Trump gewettert, dass die USA vom Rest der Welt ausgenÃ¼tzt wÃ¼rden. Als PrÃ¤sident hat er nun einen Handelsstreit gegen China angefacht und bereits rund die HÃ¤lfte des Volumens der chinesischen Exporte in die USA mit ZusatzzÃ¶llen belegt. Dadurch soll es teurer werden, in China zu produzieren, und dies wiederum soll dazu fÃ¼hren, dass Jobs zurÃ¼ck in die USA kommen.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Es gibt viele Wenn und Aber bei dieser Idee. Doch jenseits aller berechtigten EinwÃ¤nde â€“ was wÃ¼rde es fÃ¼r die Konsumenten in den USA bedeuten, wenn man die Smartphones von Apple wirklich getreu dem Motto Â«America firstÂ» herstellte?',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Der Finanzanalytiker Sundeep Gantori von der Grossbank UBS hat errechnet, was passieren wÃ¼rde, wenn man die Produktion des iPhone Schritt fÃ¼r Schritt aus dem Ausland in die USA verlagerte. Auf der Basis dieser Analyse hat die NZZ mit Gantoris Hilfe drei Varianten eines Â«Trump-PhoneÂ» zusammengestellt und jede der drei Varianten nach folgenden Kriterien aufgeschlÃ¼sselt:',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Die drei Versionen eines Â«Trump-PhoneÂ» sehen wie folgt aus, wenn man davon ausgeht, dass die Produktionsanteile in den USA gegen null laufen und vorwiegend in China produziert wird (was eine vereinfachende Annahme ist):',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Das Trump-Phone light',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Nur das NÃ¶tigste wird in Amerika produziert',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Laut Gantori wÃ¤re diese Variante schon heute denkbar. Â«Ein Produkt zu verpacken oder das Betriebssystem draufzuspielen â€“ beides ist keine HexereiÂ», sagt der UBS-Experte. TatsÃ¤chlich wÃ¼rde eine Verlagerung dieser einfachen TÃ¤tigkeiten dazu fÃ¼hren, dass ein Trump-Phone um 10% teurer wÃ¼rde, was dem Preis eines derzeitigen iPhone entsprechen wÃ¼rde, auf das heute ein Zoll von 10% erhoben wird.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'FÃ¼r die Ãœberlegungen muss eingeschrÃ¤nkt werden, dass Washington zwar Importe aus China mit ZusatzzÃ¶llen belegen kann. Die Regierung kann aber mit diesem Instrument allein die Unternehmen nicht dazu zwingen, in den USA zu produzieren. Eine MÃ¶glichkeit fÃ¼r Apple-Zulieferer wÃ¤re es, ausserhalb von China in LÃ¤ndern fertigen zu lassen, die keine Zollnachteile haben. Trotz gestiegenen Arbeitskosten in China hatte es aber bisher noch keine grÃ¶ssere Abwanderung aus dem Reich der Mitte gegeben, weil chinesische Cluster an Produzenten und Lieferanten in engster Umgebung fÃ¼r Kostenvorteile gesorgt haben. Mit hÃ¶heren US-ZÃ¶llen kÃ¶nnte sich dies Ã¤ndern.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Das Trump-Phone basic',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Denkbare Option, wenn der Handelsstreit weiter eskaliert',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Diese Variante eines iPhone kÃ¤me dann zustande, wenn Trump seine Drohungen wahr machte und die ZÃ¶lle fÃ¼r chinesische Importe wie das iPhone von derzeit 10 auf 25% erhÃ¶hte. Allerdings wÃ¼rde Apple immer noch 1 bis 2 Jahre benÃ¶tigen, um die Produktion in diesem Ausmass zu amerikanisieren.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Einfache Arbeitsschritte und die Herstellung simpler Teile kÃ¶nnten relativ schnell verlagert werden. Bei komplizierteren Komponenten sieht es schon anders aus. Fraglich ist, wie rasch Zulieferunternehmen eine amerikanische Fertigung aufbauen oder ob sie zunÃ¤chst nach anderen MÃ¶glichkeiten ausserhalb der USA suchen wÃ¼rden. Es ist auch anzunehmen, dass die Anzahl der ArbeitsplÃ¤tze, die neu entstÃ¼nden, am Anfang eher gering wÃ¤re. Ausserdem wÃ¤re wohl wegen relativ hoher Arbeitskosten in den USA die Automatisierung in der Produktion ausgeprÃ¤gt.',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Das Trump-Phone Patriot',\r\n            },\r\n            {\r\n                type: 'subtitle',\r\n                text: 'Zu teuer, zu spÃ¤t auf dem Markt â€“ nur etwas fÃ¼r echte Patrioten',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Ein komplett amerikanisches Trump-Phone wird wohl ein Traum bleiben. Erstens wÃ¤re ein vollstÃ¤ndig in den USA hergestelltes Smartphone deutlich teurer als selbst ein in China gefertigtes, das mit einem Zoll von 25% belegt wird.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Zweitens fehlt in den USA derzeit schlichtweg das Know-how fÃ¼r viele Produktionsprozesse. Â«Handykameras zu bauen, das ist eine hohe Kunst, und es hat Jahre gebraucht, diese Spezialistenarbeit in China in einem industriellen Massstab umzusetzenÂ», sagt Gantori. Es sei illusorisch, zu glauben, dass man eine Handykamera so einfach auch in den USA produzieren kÃ¶nne. Drei bis vier Jahre wÃ¼rde es mindestens dauern, komplexe Arbeitsstufen des Produktionsprozesses zurÃ¼ck in die USA zu bringen.',\r\n            },\r\n            {\r\n                type: 'text',\r\n                text: 'Das Beispiel iPhone zeigt den Vorteil von Handel auf: Durch die internationale Arbeitsteilung lassen sich GÃ¼ter kostengÃ¼nstiger herstellen. Unfaire Handelspraktiken sollten angeprangert werden. Ein Handelsstreit mit StrafzÃ¶llen ist dafÃ¼r der falsche Weg.',\r\n            },\r\n        ],\r\n    },\r\n];\r\n","/* eslint-disable max-len */\r\nimport { Random } from 'meteor/random';\r\nimport { EXPERIMENT } from './experiments';\r\n\r\nconst from = Random.id();\r\nconst QUESTIONS = [\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Menschen in der Schweiz werden immer Ã¤lter. Soll das Rentenalter darum weiter erhÃ¶ht werden?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Welcher der folgenden in der Bundesversammlung vertretenen Parteien fÃ¼hlen Sie sich am nÃ¤chsten? Bitte wÃ¤hlen Sie eine Partei.',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'BÃ¼rgerlich-Demokratische Partei (BDP)', value: 1.0 },\r\n            { _id: Random.id(), text: 'Christlichdemokratische Volkspartei (CVP)', value: 0.25 },\r\n            { _id: Random.id(), text: 'Christlichsoziale Partei Obwalden (CSP)', value: 0.25 },\r\n            { _id: Random.id(), text: 'Evangelische Volkspartei (EVP)', value: 0.25 },\r\n            { _id: Random.id(), text: 'FDP. Die Liberalen (FDP)', value: 0.25 },\r\n            { _id: Random.id(), text: 'GrÃ¼ne Partei der Schweiz (GPS)', value: 0.25 },\r\n            { _id: Random.id(), text: 'GrÃ¼nliberale Partei (GLP)', value: 0.25 },\r\n            { _id: Random.id(), text: 'Lega dei Ticinesi (Lega)', value: 0.25 },\r\n            { _id: Random.id(), text: 'Mouvement citoyens romands/genevois (MCR/MCG)', value: 0.25 },\r\n            { _id: Random.id(), text: 'Partei der Arbeit der Schweiz (PdA/POP)', value: 0.25 },\r\n            { _id: Random.id(), text: 'Schweizerische Volkspartei (SVP)', value: 0.25 },\r\n            { _id: Random.id(), text: 'Sozialdemokratische Partei der Schweiz (SP)', value: 0.25 },\r\n        ],\r\n        randomOrder: true,\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Soll der Staat Menschen in Armut stÃ¤rker unterstÃ¼tzen (Ausbau der Sozialhilfe)?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sollen die Kosten fÃ¼r die Krankenversicherung an das Einkommen angepasst werden (Gutverdienende mÃ¼ssten mehr zahlen)?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sollen junge Arbeitslose durch den Staat stÃ¤rker unterstÃ¼tzt werden?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Soll ein Mindestlohn von 4\\'000 Franken fÃ¼r alle Arbeitnehmer/-innen eingefÃ¼hrt werden?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sollen GeschÃ¤fte ihre Ã–ffnungszeiten selber festlegen dÃ¼rfen (Liberalisierung der LadenÃ¶ffnungszeiten)?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sollen die Steuern fÃ¼r Reiche erhÃ¶ht werden?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sollen Firmen weniger Steuern bezahlen?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sollen in der Schweiz neue Atomkraftwerke gebaut werden dÃ¼rfen?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Soll der Staat mehr Geld fÃ¼r den Ausbau des Ã¶ffentlichen Verkehrs (Bahn, Bus, Tram) und weniger Geld fÃ¼r den Privatverkehr (Strassenbau) aufwenden?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Ist die Schweiz gegenÃ¼ber Asylbewerbern/-innen zu grosszÃ¼gig?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sollen Ã¶ffentliche Orte vermehrt mit Video Ã¼berwacht werden?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Soll die Polizei Sprayer/-innen und Randalierer/-innen strikter verfolgen und hÃ¤rter bestrafen?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Soll die Schweizer Armee abgeschafft werden?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sollen vermehrt Personenkontrollen an der Schweizer Grenze durchgefÃ¼hrt werden?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Ja', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher ja', value: 0.75 },\r\n            { _id: Random.id(), text: 'Eher nein', value: 0.5 },\r\n            { _id: Random.id(), text: 'Nein', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Wie hÃ¤ufig nutzen Sie typischerweise Nachrichten? Mit Nachrichten meinen wir nationale, internationale, regionale/lokale Nachrichten und andere Ereignisse, die Ã¼ber diverse Plattformen genutzt werden kÃ¶nnen (Radio, Fernsehen, Zeitung oder Online).',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Mehr als 10 Mal pro Tag', value: 1 },\r\n            { _id: Random.id(), text: 'Zwischen 6 und 10 Mal pro Tag', value: 2 },\r\n            { _id: Random.id(), text: 'Zwischen 2 und 5 Mal pro Tag', value: 3 },\r\n            { _id: Random.id(), text: 'Einmal am Tag', value: 4 },\r\n            { _id: Random.id(), text: '4 bis 6 Tage pro Woche', value: 5 },\r\n            { _id: Random.id(), text: '2 bis 3 Tage pro Woche', value: 6 },\r\n            { _id: Random.id(), text: 'Einmal pro Woche', value: 7 },\r\n            { _id: Random.id(), text: 'Weniger als einmal pro Woche', value: 8 },\r\n            { _id: Random.id(), text: 'Weniger als einmal pro Monat', value: 9 },\r\n            { _id: Random.id(), text: 'Nie', value: 0 },\r\n            { _id: Random.id(), text: 'Weiss nicht/keine Angabe', value: -1 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Wie interessiert sind Sie Ihrer Ansicht nach an Nachrichten?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Extrem interessiert', value: 1.0 },\r\n            { _id: Random.id(), text: 'Sehr interessiert', value: 0.75 },\r\n            { _id: Random.id(), text: 'Etwas interessiert', value: 0.25 },\r\n            { _id: Random.id(), text: 'Nicht sehr interessiert', value: 0.25 },\r\n            { _id: Random.id(), text: 'Ãœberhaupt nicht interessiert', value: 0.25 },\r\n            { _id: Random.id(), text: 'Weiss nicht/keine Angabe', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Wie interessiert sind Sie Ihrer Ansicht nach an politischen Nachrichten?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Extrem interessiert', value: 1.0 },\r\n            { _id: Random.id(), text: 'Sehr interessiert', value: 0.75 },\r\n            { _id: Random.id(), text: 'Etwas interessiert', value: 0.25 },\r\n            { _id: Random.id(), text: 'Nicht sehr interessiert', value: 0.25 },\r\n            { _id: Random.id(), text: 'Ãœberhaupt nicht interessiert', value: 0.25 },\r\n            { _id: Random.id(), text: 'Weiss nicht/keine Angabe', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Manchmal werden Parteien und PolitikerInnen mit Â«linksÂ», Â«rechtsÂ» und Â«MitteÂ» beschrieben. (Generell werden sozialistische Parteien als Â«linksÂ» betrachtet, wÃ¤hrend konservative Parteien als Â«rechtsÂ» beschrieben werden.) Wie wÃ¼rden Sie sich vor diesem Hintergrund auf der folgenden Skala einordnen?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [\r\n            { _id: Random.id(), text: 'Sehr links', value: 1.0 },\r\n            { _id: Random.id(), text: 'Eher links', value: 0.25 },\r\n            { _id: Random.id(), text: 'Etwas links von der Mitte', value: 0.25 },\r\n            { _id: Random.id(), text: 'Mitte', value: 0.25 },\r\n            { _id: Random.id(), text: 'Etwas rechts von der Mitte', value: 0.25 },\r\n            { _id: Random.id(), text: 'Eher rechts', value: 0.25 },\r\n            { _id: Random.id(), text: 'Sehr rechts', value: 0.25 },\r\n            { _id: Random.id(), text: 'Weiss nicht/keine Angabe', value: 0.25 },\r\n        ],\r\n    },\r\n    {\r\n        _id: from,\r\n        text: 'Welche der folgenden Medien haben Sie letzte Woche als Nachrichtenquelle genutzt? Bitte wÃ¤hlen Sie alles aus, was zutrifft.',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 0,\r\n        answers: [\r\n            { _id: Random.id(), text: '20 Minuten / 20 minutes', value: 0.25 },\r\n            { _id: Random.id(), text: '24heures', value: 0.25 },\r\n            { _id: Random.id(), text: 'Aargauer Zeitung ', value: 0.25 },\r\n            { _id: Random.id(), text: 'Basler Zeitung ', value: 0.25 },\r\n            { _id: Random.id(), text: 'Berner Zeitung', value: 0.25 },\r\n            { _id: Random.id(), text: 'Blick', value: 0.25 },\r\n            { _id: Random.id(), text: 'Blick am Abend', value: 0.25 },\r\n            { _id: Random.id(), text: 'bluewin.ch', value: 0.25 },\r\n            { _id: Random.id(), text: 'gmx.ch', value: 0.25 },\r\n            { _id: Random.id(), text: 'Le Matin/Le Matin dimanche', value: 0.25 },\r\n            { _id: Random.id(), text: 'Le Nouvelliste', value: 0.25 },\r\n            { _id: Random.id(), text: 'Le Temps', value: 0.25 },\r\n            { _id: Random.id(), text: 'Luzerner Zeitung', value: 0.25 },\r\n            { _id: Random.id(), text: 'MSN News', value: 0.25 },\r\n            { _id: Random.id(), text: 'NZZ', value: 0.25 },\r\n            { _id: Random.id(), text: 'Privatfernsehen', value: 0.25 },\r\n            { _id: Random.id(), text: 'Privatradio', value: 0.25 },\r\n            { _id: Random.id(), text: 'SonntagsZeitung', value: 0.25 },\r\n            { _id: Random.id(), text: 'SRF / RTS ', value: 0.25 },\r\n            { _id: Random.id(), text: 'St. Galler Tagblatt', value: 0.25 },\r\n            { _id: Random.id(), text: 'TagesAnzeiger', value: 0.25 },\r\n            { _id: Random.id(), text: 'Tribune de GenÃ¨ve', value: 0.25 },\r\n            { _id: Random.id(), text: 'watson.ch', value: 0.25 },\r\n            { _id: Random.id(), text: 'Weltwoche', value: 0.25 },\r\n            { _id: Random.id(), text: 'Yahoo News', value: 0.25 },\r\n        ],\r\n        canBeSkipped: true,\r\n        skipAnswerText: 'Keine Angabe',\r\n        skipAnswerValue: 0,\r\n        hasOtherOption: true,\r\n        otherAnswerText: 'Sonstiges, und zwar: _______',\r\n        otherAnswerValue: -1,\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Sie haben angegeben, dass Sie diese Nachrichtenquellen letzte Woche genutzt haben. Was wÃ¼rden Sie sagen, welche davon ist Ihre HAUPT-Quelle fÃ¼r Nachrichten?',\r\n        type: 'selection',\r\n        minSelect: 1,\r\n        maxSelect: 1,\r\n        answers: [],\r\n        selectionsFrom: {\r\n            _id: from,\r\n            index: 20,\r\n            value: from,\r\n            label: '21 - Welche der folgenden Medien haben Sie letzte Woche als Nachrichtenquelle genutzt? Bitte wÃ¤hlen Sie alles aus, was zutrifft.',\r\n        },\r\n        withAtLeast: 2,\r\n    },\r\n    {\r\n        _id: Random.id(),\r\n        text: 'Auf welche dieser Medien, die Sie letzte Woche verwendet haben, haben Sie per App auf Ihrem Smartphone zugegriffen?',\r\n        type: 'selection',\r\n        minSelect: 0,\r\n        maxSelect: 0,\r\n        canBeSkipped: true,\r\n        skipAnswerText: 'Keine Angabe',\r\n        skipAnswerValue: 0,\r\n        answers: [],\r\n        selectionsFrom: {\r\n            _id: from,\r\n            index: 20,\r\n            value: from,\r\n            label: '21 - Welche der folgenden Medien haben Sie letzte Woche als Nachrichtenquelle genutzt? Bitte wÃ¤hlen Sie alles aus, was zutrifft.',\r\n        },\r\n        withAtLeast: 1,\r\n    },\r\n];\r\n\r\nexport const SURVEYS = [\r\n    {\r\n        _id: 'default-survey-fixture-id',\r\n        name: 'Default Fixture Survey',\r\n        createdAt: new Date(),\r\n        createdBy: 'System',\r\n        isActive: true,\r\n        questions: QUESTIONS,\r\n        experiment: EXPERIMENT._id,\r\n    },\r\n];\r\n","// we need to import all files with meteor methods here to be able to\n// call them. IMPORT HERE\n\nimport './fixtures';\nimport './configs';\n\nimport '../../api/archive';\nimport '../../api/articles';\nimport '../../api/articleViews';\nimport '../../api/readingList';\nimport '../../api/surveys';\nimport '../../api/answers';\nimport '../../api/signins';\nimport '../../api/pageViews';\nimport '../../api/user';\nimport '../../api/articleLikes';\nimport '../../api/experiments';\nimport '../../api/explanations';\nimport '../../api/videoAnalytics';\nimport '../../api/podcastAnalytics';\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ConfirmationModal from '../../elements/modal/ConfirmationModal';\r\nimport ModalHead from '../../elements/modal/ModalHead';\r\nimport ModalBody from '../../elements/modal/ModalBody';\r\nimport ModalFoot from '../../elements/modal/ModalFoot';\r\nimport Button from '../../elements/Button';\r\nimport FaIcon from '../../elements/FaIcon';\r\n\r\nexport default function LaunchConfirmationModal({ isShown, cancel, confirm }) {\r\n\r\n    return (\r\n        <ConfirmationModal isShown={isShown}>\r\n            <ModalHead>\r\n                Confirmation Required\r\n            </ModalHead>\r\n            <ModalBody>\r\n                <p>Are you sure you want to launch this experiment?</p>\r\n                <p>Following actions can not be done after launching:</p>\r\n                <br/>\r\n                <ul>\r\n                    <li>&#8594; Reversing the experiment back to the design phase</li>\r\n                    <li>&#8594; Adding additional users</li>\r\n                    <li>&#8594; Editing survey questions</li>\r\n                    <li>&#8594; Editing feedback surveys</li>\r\n                </ul>\r\n            </ModalBody>\r\n            <ModalFoot>\r\n                <div className=\"columns is-pulled-right\">\r\n                    <div className=\"column is-narrow\">\r\n                        <Button flat onClick={cancel}>\r\n                            Cancel\r\n                        </Button>\r\n                    </div>\r\n                    <div className=\"column is-narrow\">\r\n                        <Button onClick={confirm}>\r\n                            Launch experiment\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </ModalFoot>\r\n        </ConfirmationModal>\r\n    );\r\n\r\n}\r\n\r\nLaunchConfirmationModal.propTypes = {\r\n    isShown: PropTypes.bool.isRequired,\r\n    cancel: PropTypes.func.isRequired,\r\n    confirm: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Transition } from 'react-transition-group';\r\nimport Mounter from '../Mounter';\r\nimport Modal from './Modal';\r\n\r\nexport default function ConfirmationModal({ isShown, children }) {\r\n\r\n    return (\r\n        <Transition\r\n            in={isShown}\r\n            timeout={{\r\n                enter: 0,\r\n                exit: 300,\r\n                appear: 0,\r\n            }}\r\n            unmountOnExit\r\n        >\r\n            {(state) => {\r\n                switch (state) {\r\n                case 'entering':\r\n                case 'entered':\r\n                case 'exiting':\r\n                case 'exited':\r\n                    return (\r\n                        <Mounter>\r\n                            <div className={`confirmationModal-container confirmationModal-container--${state}`}>\r\n                                <Modal className=\"confirmationModal\">\r\n                                    { isShown ? children : null}\r\n                                </Modal>\r\n                            </div>\r\n                        </Mounter>\r\n                    );\r\n                default:\r\n                    return null;\r\n                }\r\n            }}\r\n        </Transition>\r\n    );\r\n\r\n}\r\n\r\nConfirmationModal.propTypes = {\r\n    isShown: PropTypes.bool.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../../../lib/utils/utils';\r\n\r\n/**\r\n * This class implements the main container for a modal.\r\n *\r\n * Use this component with\r\n *\r\n * @see ModalHead\r\n *          head component of the modal. this part will be\r\n *          positioned on the top of the page.\r\n *\r\n * @see ModalBody\r\n *          body component of the modal. this part will be\r\n *          positioned between the head and foot such that\r\n *          it stretches and uses all the remaining vertical space.\r\n *\r\n *          using <Modal centered/> will center the content of\r\n *          ModalBody vertically and horizontally.\r\n *\r\n * @see ModalFoot\r\n *          foot component of the modal. this part will be\r\n *          positioned on the bottom of the page (or simply below\r\n *          the body component if the modal is larger than the\r\n *          viewport height).\r\n *\r\n * such that Modal is used as the container component of the modal structure:\r\n *\r\n *   <Modal>\r\n *      <ModalHead> your modal head </ModalHead>\r\n *      <ModalBody> your modal head </ModalBody>\r\n *      <ModalFoot> your modal head </ModalFoot>\r\n *   </Modal>\r\n *\r\n *\r\n *\r\n * It adds a keydown event and attaches the passed close function to it\r\n * and includes the escape button in the top right corner if such a\r\n * function was provided.\r\n */\r\nexport default class Modal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { closeModal } = this.props;\r\n        if (closeModal) {\r\n            document.addEventListener('keydown', this.handleKeyDown);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { closeModal } = this.props;\r\n        if (closeModal) {\r\n            document.removeEventListener('keydown', this.handleKeyDown);\r\n        }\r\n    }\r\n\r\n    get modalClassNames() {\r\n        const { className, centered } = this.props;\r\n\r\n        const classes = {\r\n            \"custom-modal\": true,\r\n            'custom-modal--is-centered': !!centered,\r\n        };\r\n\r\n        return `${classNames(classes)} ${className}`;\r\n    }\r\n\r\n    get escButton() {\r\n        const { closeModal } = this.props;\r\n        return (\r\n            <a className=\"custom-button button--grey--inverted esc-button--hero\" onClick={closeModal}>\r\n                esc\r\n            </a>\r\n        );\r\n    }\r\n\r\n    handleKeyDown(event) {\r\n        const { closeModal } = this.props;\r\n        const ESCAPE_KEY = 27;\r\n        switch (event.keyCode) {\r\n        case ESCAPE_KEY:\r\n            closeModal();\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { closeModal, children } = this.props;\r\n        return (\r\n            <div className={this.modalClassNames}>\r\n                { closeModal ? this.escButton : null }\r\n                { children }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nModal.defaultProps = {\r\n    children: <></>,\r\n    centered: false,\r\n    className: '',\r\n    closeModal: null,\r\n};\r\n\r\nModal.propTypes = {\r\n    children: PropTypes.node,\r\n    centered: PropTypes.bool,\r\n    className: PropTypes.string,\r\n    closeModal: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ModalBody({ className, children }) {\r\n    const classes = `custom-modal__body ${className}`;\r\n    return (\r\n        <div className={classes}>\r\n            { children }\r\n        </div>\r\n    );\r\n}\r\n\r\nModalBody.defaultProps = {\r\n    className: '',\r\n};\r\n\r\nModalBody.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ModalFoot({ className, children }) {\r\n    const classes = `custom-modal__foot ${className}`;\r\n    return (\r\n        <div className={classes}>\r\n            { children }\r\n        </div>\r\n    );\r\n}\r\n\r\nModalFoot.defaultProps = {\r\n    className: '',\r\n};\r\n\r\nModalFoot.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ModalHead({ className, children }) {\r\n    const classes = `custom-modal__head ${className}`;\r\n    return (\r\n        <div className={classes}>\r\n            { children }\r\n        </div>\r\n    );\r\n}\r\n\r\nModalHead.defaultProps = {\r\n    className: '',\r\n};\r\n\r\nModalHead.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../../lib/utils/utils';\r\n\r\n\r\nconst Button = React.forwardRef(({\r\n    circle, children, flat, href, onClick, round, text, iconWithLink, className, type, ...props\r\n}, ref) => {\r\n    const buttonClassNames = {\r\n        'custom-button': true,\r\n        'custom-button--circle': circle,\r\n        'custom-button--flat': flat,\r\n        'custom-button--round': round,\r\n        'custom-button--link': text,\r\n        'custom-button--icon-with-link': iconWithLink,\r\n        [className]: true,\r\n    };\r\n\r\n    if (type) {\r\n        buttonClassNames[`custom-button--${type}`] = true;\r\n    }\r\n\r\n    if (href) {\r\n        return (\r\n            <a\r\n                className={classNames(buttonClassNames)}\r\n                href={href}\r\n                onClick={onClick}\r\n                ref={ref}\r\n                {...props}\r\n            >\r\n                {children}\r\n            </a>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <button\r\n            className={classNames(buttonClassNames)}\r\n            type=\"button\"\r\n            onClick={onClick}\r\n            ref={ref}\r\n            {...props}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n});\r\n\r\nButton.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClick: PropTypes.func,\r\n    href: PropTypes.string,\r\n    flat: PropTypes.bool,\r\n    circle: PropTypes.bool,\r\n    round: PropTypes.bool,\r\n    iconWithLink: PropTypes.bool,\r\n    className: PropTypes.string,\r\n    type: PropTypes.string,\r\n};\r\n\r\nButton.defaultProps = {\r\n    onClick: event => event.preventDefault(),\r\n    href: '',\r\n    circle: false,\r\n    flat: false,\r\n    round: false,\r\n    iconWithLink: false,\r\n    className: '',\r\n    type: '',\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function FaIcon({\r\n    className, icon, regular,\r\n}) {\r\n\r\n    const iconClass = regular ? 'far' : 'fa';\r\n\r\n    return (\r\n        <span className=\"symbol\">\r\n            <i className={`${className} ${iconClass} fa-${icon}`} />\r\n        </span>\r\n    );\r\n}\r\n\r\nFaIcon.propTypes = {\r\n    icon: PropTypes.string.isRequired,\r\n    className: PropTypes.string,\r\n    regular: PropTypes.bool,\r\n};\r\n\r\nFaIcon.defaultProps = {\r\n    className: '',\r\n    regular: false,\r\n};\r\n","import ReactDOM from 'react-dom';\r\n\r\nexport default function Mounter({ children }) {\r\n    const appRoot = document.getElementById('react-root');\r\n    return ReactDOM.createPortal(children, appRoot);\r\n}\r\n","import { Meteor } from 'meteor/meteor';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Module from '../../layout/Module';\r\nimport ModuleSection from '../../layout/ModuleSection';\r\nimport Button from '../../elements/Button';\r\nimport LaunchConfirmationModal from '../../components/experiments/LaunchConfirmationModal';\r\n\r\n\r\nexport default class Experiment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            experiment: props.experiment,\r\n            errorMessage: '',\r\n            isSaving: false,\r\n            wasSaved: false,\r\n            isLaunchConfirmationShown: false,\r\n        };\r\n\r\n        \r\n        this.handleSelectExperiment = this.handleSelectExperiment.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleLaunch = this.handleLaunch.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSelectExperiment() {\r\n        const selected = Session.get('selectedExperiment');\r\n        if (selected === this.props.experiment._id) {\r\n            Session.set('selectedExperiment', '');\r\n        } else {\r\n            Session.set('selectedExperiment', this.props.experiment._id);\r\n        }\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value = target.type == 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        this.setState(({ experiment }) => ({\r\n            experiment: {\r\n                ...experiment,\r\n                [name]: value,\r\n            },\r\n        }));\r\n    }\r\n\r\n    handleLaunch() {\r\n        Meteor.call('experiments.launch', this.props.experiment._id, (err) => {\r\n            if (err) {\r\n                console.error(err);\r\n                this.setState({ errorMessage: \"Something went wrong\", isSaving: false });\r\n                return false;\r\n            }\r\n\r\n            this.setState(({ experiment }) => ({\r\n                experiment: {\r\n                    ...experiment,\r\n                    testingPhase: false,\r\n                },\r\n                isLaunchConfirmationShown: false,\r\n            }));\r\n        });\r\n\r\n    }\r\n\r\n    handleSubmit() {\r\n        const experiment = this.state.experiment;\r\n\r\n        this.setState({\r\n            isSaving: true,\r\n        });\r\n\r\n        Meteor.call('experiments.update', experiment, (err) => {\r\n            if (err) {\r\n                console.error(err);\r\n                this.setState({ errorMessage: \"Something went wrong\", isSaving: false });\r\n                return false;\r\n            }\r\n\r\n            this.setState({ wasSaved: true, isSaving: false });\r\n            Meteor.setTimeout(() => {\r\n                this.setState({ wasSaved: false });\r\n            }, 10000);\r\n        })\r\n    }\r\n\r\n    get buttonText() {\r\n        const { isSaving, wasSaved } = this.state;\r\n        if (isSaving) {\r\n            return '...saving';\r\n        }\r\n        if (wasSaved) {\r\n            return 'Changes saved!';\r\n        }\r\n        return 'Save changes';\r\n    }\r\n\r\n    get experiment() {\r\n        const { selected } = this.props;\r\n\r\n        const selectButtonClasses = \"select-experiment is-size-4 is-flex-direction-column \" + (selected ? \" selected\" : \"\");\r\n\r\n        return (\r\n            <ModuleSection card content>\r\n\r\n                <div className=\"experiment columns\">\r\n\r\n                    <div className=\"column is-two-fifths\">\r\n                        <a className={selectButtonClasses} onClick={this.handleSelectExperiment}>\r\n                            { selected ?\r\n                                (<>\r\n                                    <div>Selected</div>\r\n                                    <div className=\"is-size-6\">Continue in top menu</div>\r\n                                </>)\r\n                                :\r\n                                \"Click to select this experiment\"\r\n                            }\r\n                        </a>\r\n                    </div>\r\n\r\n                    <div className=\"column\">\r\n\r\n                        <div className=\"columns\">\r\n                            <div className=\"column\">Name</div>\r\n                            <div className=\"column\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"name\"\r\n                                    value={ this.state.experiment.name }\r\n                                    onChange={ this.handleInputChange }\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"columns\">\r\n                            <div className=\"column\">Status</div>\r\n                            <div className=\"column\">\r\n                                { this.state.experiment.testingPhase ? \"Design\" : \"Launched\" }\r\n                            </div>\r\n                        </div>\r\n\r\n                        { this.state.errorMessage ? this.errorMessage : null }\r\n\r\n                        <div className=\"columns\">\r\n                            <div className=\"column is-narrow\">\r\n                                <Button onClick={this.handleSubmit} type={this.buttonType}>\r\n                                    { this.buttonText }\r\n                                </Button>\r\n                            </div>\r\n                            {\r\n                                this.state.experiment.testingPhase &&\r\n                                <div className=\"column is-narrow\">\r\n                                    <Button onClick={ () => { this.setState({ isLaunchConfirmationShown: true }); } }>\r\n                                        Launch\r\n                                    </Button>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </ModuleSection>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Module>\r\n\r\n                { this.experiment }\r\n\r\n                <LaunchConfirmationModal\r\n                    isShown={this.state.isLaunchConfirmationShown}\r\n                    cancel={() => { this.setState({ isLaunchConfirmationShown: false }) }}\r\n                    confirm={this.handleLaunch}\r\n                />\r\n\r\n            </Module>\r\n        );\r\n    }\r\n}\r\n\r\nExperiment.defaultProps = {\r\n    experiment: {\r\n        name: '',\r\n        testingPhase: false,\r\n    },\r\n};\r\n\r\nExperiment.propTypes = {\r\n    experiment: PropTypes.object,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Module({ children }) {\r\n\r\n    return (\r\n        <div className=\"module\">\r\n            { children }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nModule.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { classNames } from '../../lib/utils/utils';\r\n\r\nexport default function ModuleSection({\r\n    between, card, content, children, boxed,\r\n}) {\r\n\r\n    const containerClasses = {\r\n        'module-section': true,\r\n        'module-section--between': between,\r\n    };\r\n\r\n    const contentClasses = {\r\n        'module-section-content': content && !between,\r\n        'module-section-card': card,\r\n        'module-section-card--0': card,\r\n        'module-section--boxed': boxed,\r\n    };\r\n\r\n    return (\r\n        <div className={classNames(containerClasses)}>\r\n            <div className={classNames(contentClasses)}>\r\n                { children }\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nModuleSection.defaultProps = {\r\n    between: false,\r\n    card: false,\r\n    content: false,\r\n    boxed: false,\r\n};\r\n\r\nModuleSection.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    between: PropTypes.bool,\r\n    card: PropTypes.bool,\r\n    content: PropTypes.bool,\r\n    boxed: PropTypes.bool,\r\n};\r\n","import { Meteor } from 'meteor/meteor';\r\nimport '../imports/startup/server';\r\nimport '../imports/api/server/publications';\r\n\r\nMeteor.startup(() => {\r\n\r\n    if (process.env.MAIL_URL === undefined || process.env.MAIL_URL.length === 0) {\r\n        process.env.MAIL_URL = 'smtp://localhost:25';\r\n    }\r\n\r\n});\r\n"]}